{"ast":null,"code":"import utils from './utils';\n/**\n * 得到会导致元素显示不全的祖先元素\n */\n\nfunction getOffsetParent(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return null;\n  } // ie 这个也不是完全可行\n\n  /*\n   <div style=\"width: 50px;height: 100px;overflow: hidden\">\n   <div style=\"width: 50px;height: 100px;position: relative;\" id=\"d6\">\n   元素 6 高 100px 宽 50px<br/>\n   </div>\n   </div>\n   */\n  // element.offsetParent does the right thing in ie7 and below. Return parent with layout!\n  //  In other browsers it only includes elements with position absolute, relative or\n  // fixed, not elements with overflow set to auto or scroll.\n  //        if (UA.ie && ieMode < 8) {\n  //            return element.offsetParent;\n  //        }\n  // 统一的 offsetParent 方法\n\n\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent = void 0;\n  var positionStyle = utils.css(element, 'position');\n  var skipStatic = positionStyle === 'fixed' || positionStyle === 'absolute';\n\n  if (!skipStatic) {\n    return element.nodeName.toLowerCase() === 'html' ? null : element.parentNode;\n  }\n\n  for (parent = element.parentNode; parent && parent !== body; parent = parent.parentNode) {\n    positionStyle = utils.css(parent, 'position');\n\n    if (positionStyle !== 'static') {\n      return parent;\n    }\n  }\n\n  return null;\n}\n\nexport default getOffsetParent;","map":{"version":3,"sources":["/Users/SHAWN/Downloads/StudyMate2/node_modules/dom-align/es/getOffsetParent.js"],"names":["utils","getOffsetParent","element","isWindow","nodeType","doc","getDocument","body","parent","positionStyle","css","skipStatic","nodeName","toLowerCase","parentNode"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA;;;;AAIA,SAASC,eAAT,CAAyBC,OAAzB,EAAkC;AAChC,MAAIF,KAAK,CAACG,QAAN,CAAeD,OAAf,KAA2BA,OAAO,CAACE,QAAR,KAAqB,CAApD,EAAuD;AACrD,WAAO,IAAP;AACD,GAH+B,CAIhC;;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAIC,GAAG,GAAGL,KAAK,CAACM,WAAN,CAAkBJ,OAAlB,CAAV;AACA,MAAIK,IAAI,GAAGF,GAAG,CAACE,IAAf;AACA,MAAIC,MAAM,GAAG,KAAK,CAAlB;AACA,MAAIC,aAAa,GAAGT,KAAK,CAACU,GAAN,CAAUR,OAAV,EAAmB,UAAnB,CAApB;AACA,MAAIS,UAAU,GAAGF,aAAa,KAAK,OAAlB,IAA6BA,aAAa,KAAK,UAAhE;;AAEA,MAAI,CAACE,UAAL,EAAiB;AACf,WAAOT,OAAO,CAACU,QAAR,CAAiBC,WAAjB,OAAmC,MAAnC,GAA4C,IAA5C,GAAmDX,OAAO,CAACY,UAAlE;AACD;;AAED,OAAKN,MAAM,GAAGN,OAAO,CAACY,UAAtB,EAAkCN,MAAM,IAAIA,MAAM,KAAKD,IAAvD,EAA6DC,MAAM,GAAGA,MAAM,CAACM,UAA7E,EAAyF;AACvFL,IAAAA,aAAa,GAAGT,KAAK,CAACU,GAAN,CAAUF,MAAV,EAAkB,UAAlB,CAAhB;;AACA,QAAIC,aAAa,KAAK,QAAtB,EAAgC;AAC9B,aAAOD,MAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD;;AAED,eAAeP,eAAf","sourcesContent":["import utils from './utils';\n\n/**\n * 得到会导致元素显示不全的祖先元素\n */\n\nfunction getOffsetParent(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return null;\n  }\n  // ie 这个也不是完全可行\n  /*\n   <div style=\"width: 50px;height: 100px;overflow: hidden\">\n   <div style=\"width: 50px;height: 100px;position: relative;\" id=\"d6\">\n   元素 6 高 100px 宽 50px<br/>\n   </div>\n   </div>\n   */\n  // element.offsetParent does the right thing in ie7 and below. Return parent with layout!\n  //  In other browsers it only includes elements with position absolute, relative or\n  // fixed, not elements with overflow set to auto or scroll.\n  //        if (UA.ie && ieMode < 8) {\n  //            return element.offsetParent;\n  //        }\n  // 统一的 offsetParent 方法\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent = void 0;\n  var positionStyle = utils.css(element, 'position');\n  var skipStatic = positionStyle === 'fixed' || positionStyle === 'absolute';\n\n  if (!skipStatic) {\n    return element.nodeName.toLowerCase() === 'html' ? null : element.parentNode;\n  }\n\n  for (parent = element.parentNode; parent && parent !== body; parent = parent.parentNode) {\n    positionStyle = utils.css(parent, 'position');\n    if (positionStyle !== 'static') {\n      return parent;\n    }\n  }\n  return null;\n}\n\nexport default getOffsetParent;"]},"metadata":{},"sourceType":"module"}