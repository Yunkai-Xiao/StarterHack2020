{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\nvar IS_REACT_16 = !!createPortal;\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.prevPopupVisible = popupVisible;\n    _this.state = {\n      popupVisible: popupVisible\n    };\n    return _this;\n  }\n\n  Trigger.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this2['fire' + h] = function (e) {\n        _this2.fireEvents(h, e);\n      };\n    });\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentWillReceiveProps = function componentWillReceiveProps(_ref) {\n    var popupVisible = _ref.popupVisible;\n\n    if (popupVisible !== undefined) {\n      this.setState({\n        popupVisible: popupVisible\n      });\n    }\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    }\n\n    this.prevPopupVisible = prevState.popupVisible; // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      } // always hide on mobile\n\n\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      } // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n\n\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      } // close popup when trigger type contains 'onContextMenu' and window is blur.\n\n\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n\n    return popupAlign;\n  };\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n\n\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n    this.clearDelayTimer();\n\n    if (this.state.popupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({\n          popupVisible: popupVisible\n        });\n      }\n\n      this.props.onPopupVisibleChange(popupVisible);\n    } // Always record the point position since mouseEnterDelay will delay the show\n\n\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this3 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n\n    if (delay) {\n      var point = event ? {\n        pageX: event.pageX,\n        pageY: event.pageY\n      } : null;\n      this.delayTimer = setTimeout(function () {\n        _this3.setPopupVisible(visible, point);\n\n        _this3.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n\n    if (childCallback) {\n      childCallback(e);\n    }\n\n    var callback = this.props[type];\n\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this4 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n    var child = React.Children.only(children);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(ContainerRender, {\n        parent: this,\n        visible: popupVisible,\n        autoMount: false,\n        forceRender: forceRender,\n        getComponent: this.getComponent,\n        getContainer: this.getContainer\n      }, function (_ref2) {\n        var renderComponent = _ref2.renderComponent;\n        _this4.renderComponent = renderComponent;\n        return trigger;\n      });\n    }\n\n    var portal = void 0; // prevent unmounting after it's rendered\n\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(Portal, {\n        key: 'portal',\n        getContainer: this.getContainer,\n        didUpdate: this.handlePortalUpdate\n      }, this.getComponent());\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n\n};\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this5.props.mouseEnterDelay;\n\n    _this5.fireEvents('onMouseEnter', e);\n\n    _this5.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this5.fireEvents('onMouseMove', e);\n\n    _this5.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this5.fireEvents('onMouseLeave', e);\n\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this5.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this5._component && _this5._component.getPopupDomNode && contains(_this5._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this5.fireEvents('onFocus', e); // incase focusin and focusout\n\n\n    _this5.clearDelayTimer();\n\n    if (_this5.isFocusToShow()) {\n      _this5.focusTime = Date.now();\n\n      _this5.delaySetPopupVisible(true, _this5.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this5.fireEvents('onMouseDown', e);\n\n    _this5.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this5.fireEvents('onTouchStart', e);\n\n    _this5.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this5.fireEvents('onBlur', e);\n\n    _this5.clearDelayTimer();\n\n    if (_this5.isBlurToHide()) {\n      _this5.delaySetPopupVisible(false, _this5.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n\n    _this5.fireEvents('onContextMenu', e);\n\n    _this5.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this5.isContextMenuToShow()) {\n      _this5.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this5.fireEvents('onClick', event); // focus will trigger click\n\n\n    if (_this5.focusTime) {\n      var preTime = void 0;\n\n      if (_this5.preClickTime && _this5.preTouchTime) {\n        preTime = Math.min(_this5.preClickTime, _this5.preTouchTime);\n      } else if (_this5.preClickTime) {\n        preTime = _this5.preClickTime;\n      } else if (_this5.preTouchTime) {\n        preTime = _this5.preTouchTime;\n      }\n\n      if (Math.abs(preTime - _this5.focusTime) < 20) {\n        return;\n      }\n\n      _this5.focusTime = 0;\n    }\n\n    _this5.preClickTime = 0;\n    _this5.preTouchTime = 0;\n\n    if (event && event.preventDefault) {\n      event.preventDefault();\n    }\n\n    var nextVisible = !_this5.state.popupVisible;\n\n    if (_this5.isClickToHide() && !nextVisible || nextVisible && _this5.isClickToShow()) {\n      _this5.setPopupVisible(!_this5.state.popupVisible, event);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this5.props.mask && !_this5.props.maskClosable) {\n      return;\n    }\n\n    var target = event.target;\n    var root = findDOMNode(_this5);\n\n    var popupNode = _this5.getPopupDomNode();\n\n    if (!contains(root, target) && !contains(popupNode, target)) {\n      _this5.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this5);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this5.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this5.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this5.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n    var align = _this5.getPopupAlign();\n\n    var mouseProps = {};\n\n    if (_this5.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this5.onPopupMouseEnter;\n    }\n\n    if (_this5.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this5.onPopupMouseLeave;\n    }\n\n    return React.createElement(Popup, _extends({\n      prefixCls: prefixCls,\n      destroyPopupOnHide: destroyPopupOnHide,\n      visible: popupVisible,\n      point: alignPoint && point,\n      className: popupClassName,\n      action: action,\n      align: align,\n      onAlign: onPopupAlign,\n      animation: popupAnimation,\n      getClassNameFromAlign: _this5.getPopupClassNameFromAlign\n    }, mouseProps, {\n      stretch: stretch,\n      getRootDomNode: _this5.getRootDomNode,\n      style: popupStyle,\n      mask: mask,\n      zIndex: zIndex,\n      transitionName: popupTransitionName,\n      maskAnimation: maskAnimation,\n      maskTransitionName: maskTransitionName,\n      ref: _this5.savePopup\n    }), typeof popup === 'function' ? popup() : popup);\n  };\n\n  this.getContainer = function () {\n    var props = _this5.props;\n    var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this5)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this5.props.alignPoint;\n    if (!alignPoint || !point) return;\n\n    _this5.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this5.prevPopupVisible !== _this5.state.popupVisible) {\n      _this5.props.afterPopupVisibleChange(_this5.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this5._component = node;\n  };\n};\n\nexport default Trigger;","map":{"version":3,"sources":["/Users/SHAWN/Downloads/StudyMate2/node_modules/rc-tree-select/node_modules/rc-trigger/es/index.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","React","PropTypes","findDOMNode","createPortal","contains","addEventListener","Popup","getAlignFromPlacement","getAlignPopupClassName","ContainerRender","Portal","classNames","noop","returnEmptyString","returnDocument","window","document","ALL_HANDLERS","IS_REACT_16","Trigger","_React$Component","props","_this","call","_initialiseProps","popupVisible","defaultPopupVisible","prevPopupVisible","state","prototype","componentWillMount","_this2","forEach","h","e","fireEvents","componentDidMount","componentDidUpdate","componentWillReceiveProps","_ref","undefined","setState","_","prevState","triggerAfterPopupVisibleChange","afterPopupVisibleChange","renderComponent","currentDocument","clickOutsideHandler","isClickToHide","isContextMenuToShow","getDocument","onDocumentClick","touchOutsideHandler","contextMenuOutsideHandler1","onContextMenuClose","contextMenuOutsideHandler2","clearOutsideHandler","componentWillUnmount","clearDelayTimer","getPopupDomNode","_component","getPopupAlign","popupPlacement","popupAlign","builtinPlacements","setPopupVisible","event","alignPoint","onPopupVisibleChange","setPoint","delaySetPopupVisible","visible","delayS","_this3","delay","point","pageX","pageY","delayTimer","setTimeout","clearTimeout","remove","createTwoChains","childPros","children","isClickToShow","_props","action","showAction","indexOf","_props2","_props3","hideAction","isMouseEnterToShow","_props4","isMouseLeaveToHide","_props5","isFocusToShow","_props6","isBlurToHide","_props7","forcePopupAlign","alignInstance","forceAlign","type","childCallback","callback","close","render","_this4","_props8","forceRender","className","child","Children","only","newChildProps","key","onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseMove","onMouseLeave","onFocus","onBlur","childrenClassName","trigger","cloneElement","createElement","parent","autoMount","getComponent","getContainer","_ref2","portal","didUpdate","handlePortalUpdate","Component","propTypes","any","oneOfType","string","arrayOf","getPopupClassNameFromAlign","func","popup","node","isRequired","popupStyle","object","prefixCls","popupClassName","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","focusDelay","blurDelay","getPopupContainer","bool","destroyPopupOnHide","mask","maskClosable","onPopupAlign","maskTransitionName","maskAnimation","stretch","defaultProps","_this5","onPopupMouseEnter","onPopupMouseLeave","relatedTarget","focusTime","Date","now","preClickTime","preTouchTime","preventDefault","preTime","Math","min","abs","nextVisible","target","root","popupNode","getRootDomNode","align","_props9","push","join","_props10","_state","mouseProps","onAlign","animation","getClassNameFromAlign","style","transitionName","ref","savePopup","popupContainer","position","top","left","width","mountNode","body","appendChild"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\n\nvar IS_REACT_16 = !!createPortal;\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.prevPopupVisible = popupVisible;\n\n    _this.state = {\n      popupVisible: popupVisible\n    };\n    return _this;\n  }\n\n  Trigger.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this2['fire' + h] = function (e) {\n        _this2.fireEvents(h, e);\n      };\n    });\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentWillReceiveProps = function componentWillReceiveProps(_ref) {\n    var popupVisible = _ref.popupVisible;\n\n    if (popupVisible !== undefined) {\n      this.setState({\n        popupVisible: popupVisible\n      });\n    }\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    }\n\n    this.prevPopupVisible = prevState.popupVisible;\n\n    // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      }\n      // always hide on mobile\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      }\n      // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      }\n      // close popup when trigger type contains 'onContextMenu' and window is blur.\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n    return popupAlign;\n  };\n\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n\n\n    this.clearDelayTimer();\n\n    if (this.state.popupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({ popupVisible: popupVisible });\n      }\n      this.props.onPopupVisibleChange(popupVisible);\n    }\n\n    // Always record the point position since mouseEnterDelay will delay the show\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this3 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n    if (delay) {\n      var point = event ? { pageX: event.pageX, pageY: event.pageY } : null;\n      this.delayTimer = setTimeout(function () {\n        _this3.setPopupVisible(visible, point);\n        _this3.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n    if (childCallback) {\n      childCallback(e);\n    }\n    var callback = this.props[type];\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this4 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n\n    var child = React.Children.only(children);\n    var newChildProps = { key: 'trigger' };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(\n        ContainerRender,\n        {\n          parent: this,\n          visible: popupVisible,\n          autoMount: false,\n          forceRender: forceRender,\n          getComponent: this.getComponent,\n          getContainer: this.getContainer\n        },\n        function (_ref2) {\n          var renderComponent = _ref2.renderComponent;\n\n          _this4.renderComponent = renderComponent;\n          return trigger;\n        }\n      );\n    }\n\n    var portal = void 0;\n    // prevent unmounting after it's rendered\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(\n        Portal,\n        {\n          key: 'portal',\n          getContainer: this.getContainer,\n          didUpdate: this.handlePortalUpdate\n        },\n        this.getComponent()\n      );\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n};\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this5.props.mouseEnterDelay;\n\n    _this5.fireEvents('onMouseEnter', e);\n    _this5.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this5.fireEvents('onMouseMove', e);\n    _this5.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this5.fireEvents('onMouseLeave', e);\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this5.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this5._component && _this5._component.getPopupDomNode && contains(_this5._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this5.fireEvents('onFocus', e);\n    // incase focusin and focusout\n    _this5.clearDelayTimer();\n    if (_this5.isFocusToShow()) {\n      _this5.focusTime = Date.now();\n      _this5.delaySetPopupVisible(true, _this5.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this5.fireEvents('onMouseDown', e);\n    _this5.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this5.fireEvents('onTouchStart', e);\n    _this5.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this5.fireEvents('onBlur', e);\n    _this5.clearDelayTimer();\n    if (_this5.isBlurToHide()) {\n      _this5.delaySetPopupVisible(false, _this5.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n    _this5.fireEvents('onContextMenu', e);\n    _this5.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this5.isContextMenuToShow()) {\n      _this5.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this5.fireEvents('onClick', event);\n    // focus will trigger click\n    if (_this5.focusTime) {\n      var preTime = void 0;\n      if (_this5.preClickTime && _this5.preTouchTime) {\n        preTime = Math.min(_this5.preClickTime, _this5.preTouchTime);\n      } else if (_this5.preClickTime) {\n        preTime = _this5.preClickTime;\n      } else if (_this5.preTouchTime) {\n        preTime = _this5.preTouchTime;\n      }\n      if (Math.abs(preTime - _this5.focusTime) < 20) {\n        return;\n      }\n      _this5.focusTime = 0;\n    }\n    _this5.preClickTime = 0;\n    _this5.preTouchTime = 0;\n    if (event && event.preventDefault) {\n      event.preventDefault();\n    }\n    var nextVisible = !_this5.state.popupVisible;\n    if (_this5.isClickToHide() && !nextVisible || nextVisible && _this5.isClickToShow()) {\n      _this5.setPopupVisible(!_this5.state.popupVisible, event);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this5.props.mask && !_this5.props.maskClosable) {\n      return;\n    }\n    var target = event.target;\n    var root = findDOMNode(_this5);\n    var popupNode = _this5.getPopupDomNode();\n    if (!contains(root, target) && !contains(popupNode, target)) {\n      _this5.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this5);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this5.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this5.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this5.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n\n    var align = _this5.getPopupAlign();\n\n    var mouseProps = {};\n    if (_this5.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this5.onPopupMouseEnter;\n    }\n    if (_this5.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this5.onPopupMouseLeave;\n    }\n\n    return React.createElement(\n      Popup,\n      _extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: popupVisible,\n        point: alignPoint && point,\n        className: popupClassName,\n        action: action,\n        align: align,\n        onAlign: onPopupAlign,\n        animation: popupAnimation,\n        getClassNameFromAlign: _this5.getPopupClassNameFromAlign\n      }, mouseProps, {\n        stretch: stretch,\n        getRootDomNode: _this5.getRootDomNode,\n        style: popupStyle,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        ref: _this5.savePopup\n      }),\n      typeof popup === 'function' ? popup() : popup\n    );\n  };\n\n  this.getContainer = function () {\n    var props = _this5.props;\n\n    var popupContainer = document.createElement('div');\n    // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this5)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this5.props.alignPoint;\n\n    if (!alignPoint || !point) return;\n\n    _this5.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this5.prevPopupVisible !== _this5.state.popupVisible) {\n      _this5.props.afterPopupVisibleChange(_this5.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this5._component = node;\n  };\n};\n\nexport default Trigger;"]},"metadata":{},"sourceType":"module"}