{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport Animate from 'rc-animate';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport Tooltip from '../tooltip';\nimport Progress from '../progress';\nimport { ConfigConsumer } from '../config-provider';\n\nvar extname = function extname(url) {\n  if (!url) {\n    return '';\n  }\n\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nvar isImageUrl = function isImageUrl(file) {\n  if (isImageFileType(file.type)) {\n    return true;\n  }\n\n  var url = file.thumbUrl || file.url;\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(extension)) {\n    return true;\n  } else if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  } else if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\n\nvar UploadList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UploadList, _React$Component);\n\n  function UploadList() {\n    var _this;\n\n    _classCallCheck(this, UploadList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UploadList).apply(this, arguments));\n\n    _this.handleClose = function (file) {\n      var onRemove = _this.props.onRemove;\n\n      if (onRemove) {\n        onRemove(file);\n      }\n    };\n\n    _this.handlePreview = function (file, e) {\n      var onPreview = _this.props.onPreview;\n\n      if (!onPreview) {\n        return;\n      }\n\n      e.preventDefault();\n      return onPreview(file);\n    }; // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n\n\n    _this.previewFile = function (file, callback) {\n      if (!isImageFileType(file.type)) {\n        return callback('');\n      }\n\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        return callback(reader.result);\n      };\n\n      reader.readAsDataURL(file);\n    };\n\n    _this.renderUploadList = function (_ref) {\n      var _classNames2;\n\n      var getPrefixCls = _ref.getPrefixCls;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          _this$props$items = _this$props.items,\n          items = _this$props$items === void 0 ? [] : _this$props$items,\n          listType = _this$props.listType,\n          showPreviewIcon = _this$props.showPreviewIcon,\n          showRemoveIcon = _this$props.showRemoveIcon,\n          locale = _this$props.locale;\n      var prefixCls = getPrefixCls('upload', customizePrefixCls);\n      var list = items.map(function (file) {\n        var _classNames;\n\n        var progress;\n        var icon = React.createElement(Icon, {\n          type: file.status === 'uploading' ? 'loading' : 'paper-clip'\n        });\n\n        if (listType === 'picture' || listType === 'picture-card') {\n          if (listType === 'picture-card' && file.status === 'uploading') {\n            icon = React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-list-item-uploading-text\")\n            }, locale.uploading);\n          } else if (!file.thumbUrl && !file.url) {\n            icon = React.createElement(Icon, {\n              className: \"\".concat(prefixCls, \"-list-item-thumbnail\"),\n              type: \"picture\",\n              theme: \"twoTone\"\n            });\n          } else {\n            var thumbnail = isImageUrl(file) ? React.createElement(\"img\", {\n              src: file.thumbUrl || file.url,\n              alt: file.name\n            }) : React.createElement(Icon, {\n              type: \"file\",\n              className: \"\".concat(prefixCls, \"-list-item-icon\"),\n              theme: \"twoTone\"\n            });\n            icon = React.createElement(\"a\", {\n              className: \"\".concat(prefixCls, \"-list-item-thumbnail\"),\n              onClick: function onClick(e) {\n                return _this.handlePreview(file, e);\n              },\n              href: file.url || file.thumbUrl,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\"\n            }, thumbnail);\n          }\n        }\n\n        if (file.status === 'uploading') {\n          // show loading icon if upload progress listener is disabled\n          var loadingProgress = 'percent' in file ? React.createElement(Progress, _extends({\n            type: \"line\"\n          }, _this.props.progressAttr, {\n            percent: file.percent\n          })) : null;\n          progress = React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-list-item-progress\"),\n            key: \"progress\"\n          }, loadingProgress);\n        }\n\n        var infoUploadingClass = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-\").concat(file.status), true), _classNames));\n        var linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n        var preview = file.url ? React.createElement(\"a\", _extends({\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"\".concat(prefixCls, \"-list-item-name\"),\n          title: file.name\n        }, linkProps, {\n          href: file.url,\n          onClick: function onClick(e) {\n            return _this.handlePreview(file, e);\n          }\n        }), file.name) : React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-list-item-name\"),\n          onClick: function onClick(e) {\n            return _this.handlePreview(file, e);\n          },\n          title: file.name\n        }, file.name);\n        var style = {\n          pointerEvents: 'none',\n          opacity: 0.5\n        };\n        var previewIcon = showPreviewIcon ? React.createElement(\"a\", {\n          href: file.url || file.thumbUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          style: file.url || file.thumbUrl ? undefined : style,\n          onClick: function onClick(e) {\n            return _this.handlePreview(file, e);\n          },\n          title: locale.previewFile\n        }, React.createElement(Icon, {\n          type: \"eye-o\"\n        })) : null;\n        var removeIcon = showRemoveIcon ? React.createElement(Icon, {\n          type: \"delete\",\n          title: locale.removeFile,\n          onClick: function onClick() {\n            return _this.handleClose(file);\n          }\n        }) : null;\n        var removeIconClose = showRemoveIcon ? React.createElement(Icon, {\n          type: \"close\",\n          title: locale.removeFile,\n          onClick: function onClick() {\n            return _this.handleClose(file);\n          }\n        }) : null;\n        var actions = listType === 'picture-card' && file.status !== 'uploading' ? React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-list-item-actions\")\n        }, previewIcon, removeIcon) : removeIconClose;\n        var message;\n\n        if (file.response && typeof file.response === 'string') {\n          message = file.response;\n        } else {\n          message = file.error && file.error.statusText || locale.uploadError;\n        }\n\n        var iconAndPreview = file.status === 'error' ? React.createElement(Tooltip, {\n          title: message\n        }, icon, preview) : React.createElement(\"span\", null, icon, preview);\n        return React.createElement(\"div\", {\n          className: infoUploadingClass,\n          key: file.uid\n        }, React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-list-item-info\")\n        }, iconAndPreview), actions, React.createElement(Animate, {\n          transitionName: \"fade\",\n          component: \"\"\n        }, progress));\n      });\n      var listClassNames = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list\"), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-\").concat(listType), true), _classNames2));\n      var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n      return React.createElement(Animate, {\n        transitionName: \"\".concat(prefixCls, \"-\").concat(animationDirection),\n        component: \"div\",\n        className: listClassNames\n      }, list);\n    };\n\n    return _this;\n  }\n\n  _createClass(UploadList, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.props.listType !== 'picture' && this.props.listType !== 'picture-card') {\n        return;\n      }\n\n      (this.props.items || []).forEach(function (file) {\n        if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File) || file.thumbUrl !== undefined) {\n          return;\n        }\n\n        file.thumbUrl = '';\n\n        _this2.previewFile(file.originFileObj, function (previewDataUrl) {\n          file.thumbUrl = previewDataUrl;\n\n          _this2.forceUpdate();\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderUploadList);\n    }\n  }]);\n\n  return UploadList;\n}(React.Component);\n\nexport { UploadList as default };\nUploadList.defaultProps = {\n  listType: 'text',\n  progressAttr: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  showRemoveIcon: true,\n  showPreviewIcon: true\n};","map":{"version":3,"sources":["/Users/SHAWN/Downloads/StudyMate2/node_modules/antd/es/upload/UploadList.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","Animate","classNames","Icon","Tooltip","Progress","ConfigConsumer","extname","url","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","type","indexOf","isImageUrl","file","thumbUrl","extension","test","UploadList","_React$Component","_this","handleClose","onRemove","handlePreview","e","onPreview","preventDefault","previewFile","callback","reader","FileReader","onloadend","result","readAsDataURL","renderUploadList","_ref","_classNames2","getPrefixCls","_this$props","customizePrefixCls","prefixCls","_this$props$items","items","listType","showPreviewIcon","showRemoveIcon","locale","list","map","_classNames","progress","icon","createElement","status","className","concat","uploading","theme","thumbnail","src","alt","name","onClick","href","rel","loadingProgress","progressAttr","percent","infoUploadingClass","linkProps","JSON","parse","preview","title","style","pointerEvents","opacity","previewIcon","undefined","removeIcon","removeFile","removeIconClose","actions","message","response","error","statusText","uploadError","iconAndPreview","uid","transitionName","component","listClassNames","animationDirection","componentDidUpdate","_this2","forEach","document","window","File","originFileObj","previewDataUrl","forceUpdate","render","Component","default","defaultProps","strokeWidth","showInfo"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEH,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAED,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;;AAE/V,SAASK,eAAT,CAAyBL,GAAzB,EAA8BM,GAA9B,EAAmCC,KAAnC,EAA0C;AAAE,MAAID,GAAG,IAAIN,GAAX,EAAgB;AAAEQ,IAAAA,MAAM,CAACC,cAAP,CAAsBT,GAAtB,EAA2BM,GAA3B,EAAgC;AAAEC,MAAAA,KAAK,EAAEA,KAAT;AAAgBG,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEZ,IAAAA,GAAG,CAACM,GAAD,CAAH,GAAWC,KAAX;AAAmB;;AAAC,SAAOP,GAAP;AAAa;;AAEjN,SAASa,QAAT,GAAoB;AAAEA,EAAAA,QAAQ,GAAGL,MAAM,CAACM,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAIV,GAAT,IAAgBa,MAAhB,EAAwB;AAAE,YAAIX,MAAM,CAACJ,SAAP,CAAiBgB,cAAjB,CAAgCC,IAAhC,CAAqCF,MAArC,EAA6Cb,GAA7C,CAAJ,EAAuD;AAAES,UAAAA,MAAM,CAACT,GAAD,CAAN,GAAca,MAAM,CAACb,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOS,MAAP;AAAgB,GAA5P;;AAA8P,SAAOF,QAAQ,CAACS,KAAT,CAAe,IAAf,EAAqBL,SAArB,CAAP;AAAyC;;AAE7T,SAASM,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2BZ,MAA3B,EAAmCa,KAAnC,EAA0C;AAAE,OAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,KAAK,CAACV,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;AAAE,QAAIa,UAAU,GAAGD,KAAK,CAACZ,CAAD,CAAtB;AAA2Ba,IAAAA,UAAU,CAACnB,UAAX,GAAwBmB,UAAU,CAACnB,UAAX,IAAyB,KAAjD;AAAwDmB,IAAAA,UAAU,CAAClB,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWkB,UAAf,EAA2BA,UAAU,CAACjB,QAAX,GAAsB,IAAtB;AAA4BJ,IAAAA,MAAM,CAACC,cAAP,CAAsBM,MAAtB,EAA8Bc,UAAU,CAACvB,GAAzC,EAA8CuB,UAA9C;AAA4D;AAAE;;AAE7T,SAASC,YAAT,CAAsBL,WAAtB,EAAmCM,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBJ,iBAAiB,CAACF,WAAW,CAACrB,SAAb,EAAwB2B,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBL,iBAAiB,CAACF,WAAD,EAAcO,WAAd,CAAjB;AAA6C,SAAOP,WAAP;AAAqB;;AAEvN,SAASQ,0BAAT,CAAoCC,IAApC,EAA0Cb,IAA1C,EAAgD;AAAE,MAAIA,IAAI,KAAKtB,OAAO,CAACsB,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;AAAE,WAAOA,IAAP;AAAc;;AAAC,SAAOc,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAEjL,SAASC,sBAAT,CAAgCD,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOF,IAAP;AAAc;;AAEtK,SAASG,eAAT,CAAyBC,CAAzB,EAA4B;AAAED,EAAAA,eAAe,GAAG7B,MAAM,CAAC+B,cAAP,GAAwB/B,MAAM,CAACgC,cAA/B,GAAgD,SAASH,eAAT,CAAyBC,CAAzB,EAA4B;AAAE,WAAOA,CAAC,CAACG,SAAF,IAAejC,MAAM,CAACgC,cAAP,CAAsBF,CAAtB,CAAtB;AAAiD,GAAjJ;AAAmJ,SAAOD,eAAe,CAACC,CAAD,CAAtB;AAA4B;;AAE7M,SAASI,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIlB,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAACiB,EAAAA,QAAQ,CAACvC,SAAT,GAAqBI,MAAM,CAACqC,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACxC,SAAvC,EAAkD;AAAED,IAAAA,WAAW,EAAE;AAAEI,MAAAA,KAAK,EAAEoC,QAAT;AAAmB/B,MAAAA,QAAQ,EAAE,IAA7B;AAAmCD,MAAAA,YAAY,EAAE;AAAjD;AAAf,GAAlD,CAArB;AAAkJ,MAAIiC,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASE,eAAT,CAAyBR,CAAzB,EAA4BS,CAA5B,EAA+B;AAAED,EAAAA,eAAe,GAAGtC,MAAM,CAAC+B,cAAP,IAAyB,SAASO,eAAT,CAAyBR,CAAzB,EAA4BS,CAA5B,EAA+B;AAAET,IAAAA,CAAC,CAACG,SAAF,GAAcM,CAAd;AAAiB,WAAOT,CAAP;AAAW,GAAxG;;AAA0G,SAAOQ,eAAe,CAACR,CAAD,EAAIS,CAAJ,CAAtB;AAA+B;;AAE1K,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,SAASC,cAAT,QAA+B,oBAA/B;;AAEA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAClC,MAAI,CAACA,GAAL,EAAU;AACR,WAAO,EAAP;AACD;;AAED,MAAIC,IAAI,GAAGD,GAAG,CAACE,KAAJ,CAAU,GAAV,CAAX;AACA,MAAIC,QAAQ,GAAGF,IAAI,CAACA,IAAI,CAACvC,MAAL,GAAc,CAAf,CAAnB;AACA,MAAI0C,qBAAqB,GAAGD,QAAQ,CAACD,KAAT,CAAe,MAAf,EAAuB,CAAvB,CAA5B;AACA,SAAO,CAAC,cAAcG,IAAd,CAAmBD,qBAAnB,KAA6C,CAAC,EAAD,CAA9C,EAAoD,CAApD,CAAP;AACD,CATD;;AAWA,IAAIE,eAAe,GAAG,SAASA,eAAT,CAAyBC,IAAzB,EAA+B;AACnD,SAAO,CAAC,CAACA,IAAF,IAAUA,IAAI,CAACC,OAAL,CAAa,QAAb,MAA2B,CAA5C;AACD,CAFD;;AAIA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,IAApB,EAA0B;AACzC,MAAIJ,eAAe,CAACI,IAAI,CAACH,IAAN,CAAnB,EAAgC;AAC9B,WAAO,IAAP;AACD;;AAED,MAAIP,GAAG,GAAGU,IAAI,CAACC,QAAL,IAAiBD,IAAI,CAACV,GAAhC;AACA,MAAIY,SAAS,GAAGb,OAAO,CAACC,GAAD,CAAvB;;AAEA,MAAI,gBAAgBa,IAAhB,CAAqBb,GAArB,KAA6B,wCAAwCa,IAAxC,CAA6CD,SAA7C,CAAjC,EAA0F;AACxF,WAAO,IAAP;AACD,GAFD,MAEO,IAAI,SAASC,IAAT,CAAcb,GAAd,CAAJ,EAAwB;AAC7B;AACA,WAAO,KAAP;AACD,GAHM,MAGA,IAAIY,SAAJ,EAAe;AACpB;AACA,WAAO,KAAP;AACD;;AAED,SAAO,IAAP;AACD,CAnBD;;AAqBA,IAAIE,UAAU;AACd;AACA,UAAUC,gBAAV,EAA4B;AAC1B7B,EAAAA,SAAS,CAAC4B,UAAD,EAAaC,gBAAb,CAAT;;AAEA,WAASD,UAAT,GAAsB;AACpB,QAAIE,KAAJ;;AAEAjD,IAAAA,eAAe,CAAC,IAAD,EAAO+C,UAAP,CAAf;;AAEAE,IAAAA,KAAK,GAAGvC,0BAA0B,CAAC,IAAD,EAAOI,eAAe,CAACiC,UAAD,CAAf,CAA4BhD,KAA5B,CAAkC,IAAlC,EAAwCL,SAAxC,CAAP,CAAlC;;AAEAuD,IAAAA,KAAK,CAACC,WAAN,GAAoB,UAAUP,IAAV,EAAgB;AAClC,UAAIQ,QAAQ,GAAGF,KAAK,CAAC5C,KAAN,CAAY8C,QAA3B;;AAEA,UAAIA,QAAJ,EAAc;AACZA,QAAAA,QAAQ,CAACR,IAAD,CAAR;AACD;AACF,KAND;;AAQAM,IAAAA,KAAK,CAACG,aAAN,GAAsB,UAAUT,IAAV,EAAgBU,CAAhB,EAAmB;AACvC,UAAIC,SAAS,GAAGL,KAAK,CAAC5C,KAAN,CAAYiD,SAA5B;;AAEA,UAAI,CAACA,SAAL,EAAgB;AACd;AACD;;AAEDD,MAAAA,CAAC,CAACE,cAAF;AACA,aAAOD,SAAS,CAACX,IAAD,CAAhB;AACD,KATD,CAfoB,CAwBjB;;;AAGHM,IAAAA,KAAK,CAACO,WAAN,GAAoB,UAAUb,IAAV,EAAgBc,QAAhB,EAA0B;AAC5C,UAAI,CAAClB,eAAe,CAACI,IAAI,CAACH,IAAN,CAApB,EAAiC;AAC/B,eAAOiB,QAAQ,CAAC,EAAD,CAAf;AACD;;AAED,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AAEAD,MAAAA,MAAM,CAACE,SAAP,GAAmB,YAAY;AAC7B,eAAOH,QAAQ,CAACC,MAAM,CAACG,MAAR,CAAf;AACD,OAFD;;AAIAH,MAAAA,MAAM,CAACI,aAAP,CAAqBnB,IAArB;AACD,KAZD;;AAcAM,IAAAA,KAAK,CAACc,gBAAN,GAAyB,UAAUC,IAAV,EAAgB;AACvC,UAAIC,YAAJ;;AAEA,UAAIC,YAAY,GAAGF,IAAI,CAACE,YAAxB;AACA,UAAIC,WAAW,GAAGlB,KAAK,CAAC5C,KAAxB;AAAA,UACI+D,kBAAkB,GAAGD,WAAW,CAACE,SADrC;AAAA,UAEIC,iBAAiB,GAAGH,WAAW,CAACI,KAFpC;AAAA,UAGIA,KAAK,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,EAA/B,GAAoCA,iBAHhD;AAAA,UAIIE,QAAQ,GAAGL,WAAW,CAACK,QAJ3B;AAAA,UAKIC,eAAe,GAAGN,WAAW,CAACM,eALlC;AAAA,UAMIC,cAAc,GAAGP,WAAW,CAACO,cANjC;AAAA,UAOIC,MAAM,GAAGR,WAAW,CAACQ,MAPzB;AAQA,UAAIN,SAAS,GAAGH,YAAY,CAAC,QAAD,EAAWE,kBAAX,CAA5B;AACA,UAAIQ,IAAI,GAAGL,KAAK,CAACM,GAAN,CAAU,UAAUlC,IAAV,EAAgB;AACnC,YAAImC,WAAJ;;AAEA,YAAIC,QAAJ;AACA,YAAIC,IAAI,GAAGvD,KAAK,CAACwD,aAAN,CAAoBrD,IAApB,EAA0B;AACnCY,UAAAA,IAAI,EAAEG,IAAI,CAACuC,MAAL,KAAgB,WAAhB,GAA8B,SAA9B,GAA0C;AADb,SAA1B,CAAX;;AAIA,YAAIV,QAAQ,KAAK,SAAb,IAA0BA,QAAQ,KAAK,cAA3C,EAA2D;AACzD,cAAIA,QAAQ,KAAK,cAAb,IAA+B7B,IAAI,CAACuC,MAAL,KAAgB,WAAnD,EAAgE;AAC9DF,YAAAA,IAAI,GAAGvD,KAAK,CAACwD,aAAN,CAAoB,KAApB,EAA2B;AAChCE,cAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,2BAArB;AADqB,aAA3B,EAEJM,MAAM,CAACU,SAFH,CAAP;AAGD,WAJD,MAIO,IAAI,CAAC1C,IAAI,CAACC,QAAN,IAAkB,CAACD,IAAI,CAACV,GAA5B,EAAiC;AACtC+C,YAAAA,IAAI,GAAGvD,KAAK,CAACwD,aAAN,CAAoBrD,IAApB,EAA0B;AAC/BuD,cAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,sBAArB,CADoB;AAE/B7B,cAAAA,IAAI,EAAE,SAFyB;AAG/B8C,cAAAA,KAAK,EAAE;AAHwB,aAA1B,CAAP;AAKD,WANM,MAMA;AACL,gBAAIC,SAAS,GAAG7C,UAAU,CAACC,IAAD,CAAV,GAAmBlB,KAAK,CAACwD,aAAN,CAAoB,KAApB,EAA2B;AAC5DO,cAAAA,GAAG,EAAE7C,IAAI,CAACC,QAAL,IAAiBD,IAAI,CAACV,GADiC;AAE5DwD,cAAAA,GAAG,EAAE9C,IAAI,CAAC+C;AAFkD,aAA3B,CAAnB,GAGXjE,KAAK,CAACwD,aAAN,CAAoBrD,IAApB,EAA0B;AAC7BY,cAAAA,IAAI,EAAE,MADuB;AAE7B2C,cAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,iBAArB,CAFkB;AAG7BiB,cAAAA,KAAK,EAAE;AAHsB,aAA1B,CAHL;AAQAN,YAAAA,IAAI,GAAGvD,KAAK,CAACwD,aAAN,CAAoB,GAApB,EAAyB;AAC9BE,cAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,sBAArB,CADmB;AAE9BsB,cAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtC,CAAjB,EAAoB;AAC3B,uBAAOJ,KAAK,CAACG,aAAN,CAAoBT,IAApB,EAA0BU,CAA1B,CAAP;AACD,eAJ6B;AAK9BuC,cAAAA,IAAI,EAAEjD,IAAI,CAACV,GAAL,IAAYU,IAAI,CAACC,QALO;AAM9BpD,cAAAA,MAAM,EAAE,QANsB;AAO9BqG,cAAAA,GAAG,EAAE;AAPyB,aAAzB,EAQJN,SARI,CAAP;AASD;AACF;;AAED,YAAI5C,IAAI,CAACuC,MAAL,KAAgB,WAApB,EAAiC;AAC/B;AACA,cAAIY,eAAe,GAAG,aAAanD,IAAb,GAAoBlB,KAAK,CAACwD,aAAN,CAAoBnD,QAApB,EAA8BxC,QAAQ,CAAC;AAC/EkD,YAAAA,IAAI,EAAE;AADyE,WAAD,EAE7ES,KAAK,CAAC5C,KAAN,CAAY0F,YAFiE,EAEnD;AAC3BC,YAAAA,OAAO,EAAErD,IAAI,CAACqD;AADa,WAFmD,CAAtC,CAApB,GAIhB,IAJN;AAKAjB,UAAAA,QAAQ,GAAGtD,KAAK,CAACwD,aAAN,CAAoB,KAApB,EAA2B;AACpCE,YAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,qBAArB,CADyB;AAEpCtF,YAAAA,GAAG,EAAE;AAF+B,WAA3B,EAGR+G,eAHQ,CAAX;AAID;;AAED,YAAIG,kBAAkB,GAAGtE,UAAU,EAAEmD,WAAW,GAAG,EAAd,EAAkBhG,eAAe,CAACgG,WAAD,EAAc,GAAGM,MAAH,CAAUf,SAAV,EAAqB,YAArB,CAAd,EAAkD,IAAlD,CAAjC,EAA0FvF,eAAe,CAACgG,WAAD,EAAc,GAAGM,MAAH,CAAUf,SAAV,EAAqB,aAArB,EAAoCe,MAApC,CAA2CzC,IAAI,CAACuC,MAAhD,CAAd,EAAuE,IAAvE,CAAzG,EAAuLJ,WAAzL,EAAnC;AACA,YAAIoB,SAAS,GAAG,OAAOvD,IAAI,CAACuD,SAAZ,KAA0B,QAA1B,GAAqCC,IAAI,CAACC,KAAL,CAAWzD,IAAI,CAACuD,SAAhB,CAArC,GAAkEvD,IAAI,CAACuD,SAAvF;AACA,YAAIG,OAAO,GAAG1D,IAAI,CAACV,GAAL,GAAWR,KAAK,CAACwD,aAAN,CAAoB,GAApB,EAAyB3F,QAAQ,CAAC;AACzDE,UAAAA,MAAM,EAAE,QADiD;AAEzDqG,UAAAA,GAAG,EAAE,qBAFoD;AAGzDV,UAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,iBAArB,CAH8C;AAIzDiC,UAAAA,KAAK,EAAE3D,IAAI,CAAC+C;AAJ6C,SAAD,EAKvDQ,SALuD,EAK5C;AACZN,UAAAA,IAAI,EAAEjD,IAAI,CAACV,GADC;AAEZ0D,UAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtC,CAAjB,EAAoB;AAC3B,mBAAOJ,KAAK,CAACG,aAAN,CAAoBT,IAApB,EAA0BU,CAA1B,CAAP;AACD;AAJW,SAL4C,CAAjC,EAUrBV,IAAI,CAAC+C,IAVgB,CAAX,GAUGjE,KAAK,CAACwD,aAAN,CAAoB,MAApB,EAA4B;AAC3CE,UAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,iBAArB,CADgC;AAE3CsB,UAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtC,CAAjB,EAAoB;AAC3B,mBAAOJ,KAAK,CAACG,aAAN,CAAoBT,IAApB,EAA0BU,CAA1B,CAAP;AACD,WAJ0C;AAK3CiD,UAAAA,KAAK,EAAE3D,IAAI,CAAC+C;AAL+B,SAA5B,EAMd/C,IAAI,CAAC+C,IANS,CAVjB;AAiBA,YAAIa,KAAK,GAAG;AACVC,UAAAA,aAAa,EAAE,MADL;AAEVC,UAAAA,OAAO,EAAE;AAFC,SAAZ;AAIA,YAAIC,WAAW,GAAGjC,eAAe,GAAGhD,KAAK,CAACwD,aAAN,CAAoB,GAApB,EAAyB;AAC3DW,UAAAA,IAAI,EAAEjD,IAAI,CAACV,GAAL,IAAYU,IAAI,CAACC,QADoC;AAE3DpD,UAAAA,MAAM,EAAE,QAFmD;AAG3DqG,UAAAA,GAAG,EAAE,qBAHsD;AAI3DU,UAAAA,KAAK,EAAE5D,IAAI,CAACV,GAAL,IAAYU,IAAI,CAACC,QAAjB,GAA4B+D,SAA5B,GAAwCJ,KAJY;AAK3DZ,UAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtC,CAAjB,EAAoB;AAC3B,mBAAOJ,KAAK,CAACG,aAAN,CAAoBT,IAApB,EAA0BU,CAA1B,CAAP;AACD,WAP0D;AAQ3DiD,UAAAA,KAAK,EAAE3B,MAAM,CAACnB;AAR6C,SAAzB,EASjC/B,KAAK,CAACwD,aAAN,CAAoBrD,IAApB,EAA0B;AAC3BY,UAAAA,IAAI,EAAE;AADqB,SAA1B,CATiC,CAAH,GAW3B,IAXN;AAYA,YAAIoE,UAAU,GAAGlC,cAAc,GAAGjD,KAAK,CAACwD,aAAN,CAAoBrD,IAApB,EAA0B;AAC1DY,UAAAA,IAAI,EAAE,QADoD;AAE1D8D,UAAAA,KAAK,EAAE3B,MAAM,CAACkC,UAF4C;AAG1DlB,UAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,mBAAO1C,KAAK,CAACC,WAAN,CAAkBP,IAAlB,CAAP;AACD;AALyD,SAA1B,CAAH,GAM1B,IANL;AAOA,YAAImE,eAAe,GAAGpC,cAAc,GAAGjD,KAAK,CAACwD,aAAN,CAAoBrD,IAApB,EAA0B;AAC/DY,UAAAA,IAAI,EAAE,OADyD;AAE/D8D,UAAAA,KAAK,EAAE3B,MAAM,CAACkC,UAFiD;AAG/DlB,UAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,mBAAO1C,KAAK,CAACC,WAAN,CAAkBP,IAAlB,CAAP;AACD;AAL8D,SAA1B,CAAH,GAM/B,IANL;AAOA,YAAIoE,OAAO,GAAGvC,QAAQ,KAAK,cAAb,IAA+B7B,IAAI,CAACuC,MAAL,KAAgB,WAA/C,GAA6DzD,KAAK,CAACwD,aAAN,CAAoB,MAApB,EAA4B;AACrGE,UAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,oBAArB;AAD0F,SAA5B,EAExEqC,WAFwE,EAE3DE,UAF2D,CAA7D,GAEgBE,eAF9B;AAGA,YAAIE,OAAJ;;AAEA,YAAIrE,IAAI,CAACsE,QAAL,IAAiB,OAAOtE,IAAI,CAACsE,QAAZ,KAAyB,QAA9C,EAAwD;AACtDD,UAAAA,OAAO,GAAGrE,IAAI,CAACsE,QAAf;AACD,SAFD,MAEO;AACLD,UAAAA,OAAO,GAAGrE,IAAI,CAACuE,KAAL,IAAcvE,IAAI,CAACuE,KAAL,CAAWC,UAAzB,IAAuCxC,MAAM,CAACyC,WAAxD;AACD;;AAED,YAAIC,cAAc,GAAG1E,IAAI,CAACuC,MAAL,KAAgB,OAAhB,GAA0BzD,KAAK,CAACwD,aAAN,CAAoBpD,OAApB,EAA6B;AAC1EyE,UAAAA,KAAK,EAAEU;AADmE,SAA7B,EAE5ChC,IAF4C,EAEtCqB,OAFsC,CAA1B,GAED5E,KAAK,CAACwD,aAAN,CAAoB,MAApB,EAA4B,IAA5B,EAAkCD,IAAlC,EAAwCqB,OAAxC,CAFpB;AAGA,eAAO5E,KAAK,CAACwD,aAAN,CAAoB,KAApB,EAA2B;AAChCE,UAAAA,SAAS,EAAEc,kBADqB;AAEhClH,UAAAA,GAAG,EAAE4D,IAAI,CAAC2E;AAFsB,SAA3B,EAGJ7F,KAAK,CAACwD,aAAN,CAAoB,KAApB,EAA2B;AAC5BE,UAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUf,SAAV,EAAqB,iBAArB;AADiB,SAA3B,EAEAgD,cAFA,CAHI,EAKaN,OALb,EAKsBtF,KAAK,CAACwD,aAAN,CAAoBvD,OAApB,EAA6B;AACxD6F,UAAAA,cAAc,EAAE,MADwC;AAExDC,UAAAA,SAAS,EAAE;AAF6C,SAA7B,EAG1BzC,QAH0B,CALtB,CAAP;AASD,OA7HU,CAAX;AA8HA,UAAI0C,cAAc,GAAG9F,UAAU,EAAEsC,YAAY,GAAG,EAAf,EAAmBnF,eAAe,CAACmF,YAAD,EAAe,GAAGmB,MAAH,CAAUf,SAAV,EAAqB,OAArB,CAAf,EAA8C,IAA9C,CAAlC,EAAuFvF,eAAe,CAACmF,YAAD,EAAe,GAAGmB,MAAH,CAAUf,SAAV,EAAqB,QAArB,EAA+Be,MAA/B,CAAsCZ,QAAtC,CAAf,EAAgE,IAAhE,CAAtG,EAA6KP,YAA/K,EAA/B;AACA,UAAIyD,kBAAkB,GAAGlD,QAAQ,KAAK,cAAb,GAA8B,gBAA9B,GAAiD,SAA1E;AACA,aAAO/C,KAAK,CAACwD,aAAN,CAAoBvD,OAApB,EAA6B;AAClC6F,QAAAA,cAAc,EAAE,GAAGnC,MAAH,CAAUf,SAAV,EAAqB,GAArB,EAA0Be,MAA1B,CAAiCsC,kBAAjC,CADkB;AAElCF,QAAAA,SAAS,EAAE,KAFuB;AAGlCrC,QAAAA,SAAS,EAAEsC;AAHuB,OAA7B,EAIJ7C,IAJI,CAAP;AAKD,KAlJD;;AAoJA,WAAO3B,KAAP;AACD;;AAED1C,EAAAA,YAAY,CAACwC,UAAD,EAAa,CAAC;AACxBhE,IAAAA,GAAG,EAAE,oBADmB;AAExBC,IAAAA,KAAK,EAAE,SAAS2I,kBAAT,GAA8B;AACnC,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAI,KAAKvH,KAAL,CAAWmE,QAAX,KAAwB,SAAxB,IAAqC,KAAKnE,KAAL,CAAWmE,QAAX,KAAwB,cAAjE,EAAiF;AAC/E;AACD;;AAED,OAAC,KAAKnE,KAAL,CAAWkE,KAAX,IAAoB,EAArB,EAAyBsD,OAAzB,CAAiC,UAAUlF,IAAV,EAAgB;AAC/C,YAAI,OAAOmF,QAAP,KAAoB,WAApB,IAAmC,OAAOC,MAAP,KAAkB,WAArD,IAAoE,CAACA,MAAM,CAACpE,UAA5E,IAA0F,CAACoE,MAAM,CAACC,IAAlG,IAA0G,EAAErF,IAAI,CAACsF,aAAL,YAA8BD,IAAhC,CAA1G,IAAmJrF,IAAI,CAACC,QAAL,KAAkB+D,SAAzK,EAAoL;AAClL;AACD;;AAEDhE,QAAAA,IAAI,CAACC,QAAL,GAAgB,EAAhB;;AAEAgF,QAAAA,MAAM,CAACpE,WAAP,CAAmBb,IAAI,CAACsF,aAAxB,EAAuC,UAAUC,cAAV,EAA0B;AAC/DvF,UAAAA,IAAI,CAACC,QAAL,GAAgBsF,cAAhB;;AAEAN,UAAAA,MAAM,CAACO,WAAP;AACD,SAJD;AAKD,OAZD;AAaD;AAtBuB,GAAD,EAuBtB;AACDpJ,IAAAA,GAAG,EAAE,QADJ;AAEDC,IAAAA,KAAK,EAAE,SAASoJ,MAAT,GAAkB;AACvB,aAAO3G,KAAK,CAACwD,aAAN,CAAoBlD,cAApB,EAAoC,IAApC,EAA0C,KAAKgC,gBAA/C,CAAP;AACD;AAJA,GAvBsB,CAAb,CAAZ;;AA8BA,SAAOhB,UAAP;AACD,CAlOD,CAkOEtB,KAAK,CAAC4G,SAlOR,CAFA;;AAsOA,SAAStF,UAAU,IAAIuF,OAAvB;AACAvF,UAAU,CAACwF,YAAX,GAA0B;AACxB/D,EAAAA,QAAQ,EAAE,MADc;AAExBuB,EAAAA,YAAY,EAAE;AACZyC,IAAAA,WAAW,EAAE,CADD;AAEZC,IAAAA,QAAQ,EAAE;AAFE,GAFU;AAMxB/D,EAAAA,cAAc,EAAE,IANQ;AAOxBD,EAAAA,eAAe,EAAE;AAPO,CAA1B","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport Animate from 'rc-animate';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport Tooltip from '../tooltip';\nimport Progress from '../progress';\nimport { ConfigConsumer } from '../config-provider';\n\nvar extname = function extname(url) {\n  if (!url) {\n    return '';\n  }\n\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nvar isImageUrl = function isImageUrl(file) {\n  if (isImageFileType(file.type)) {\n    return true;\n  }\n\n  var url = file.thumbUrl || file.url;\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(extension)) {\n    return true;\n  } else if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  } else if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\n\nvar UploadList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UploadList, _React$Component);\n\n  function UploadList() {\n    var _this;\n\n    _classCallCheck(this, UploadList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UploadList).apply(this, arguments));\n\n    _this.handleClose = function (file) {\n      var onRemove = _this.props.onRemove;\n\n      if (onRemove) {\n        onRemove(file);\n      }\n    };\n\n    _this.handlePreview = function (file, e) {\n      var onPreview = _this.props.onPreview;\n\n      if (!onPreview) {\n        return;\n      }\n\n      e.preventDefault();\n      return onPreview(file);\n    }; // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n\n\n    _this.previewFile = function (file, callback) {\n      if (!isImageFileType(file.type)) {\n        return callback('');\n      }\n\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        return callback(reader.result);\n      };\n\n      reader.readAsDataURL(file);\n    };\n\n    _this.renderUploadList = function (_ref) {\n      var _classNames2;\n\n      var getPrefixCls = _ref.getPrefixCls;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          _this$props$items = _this$props.items,\n          items = _this$props$items === void 0 ? [] : _this$props$items,\n          listType = _this$props.listType,\n          showPreviewIcon = _this$props.showPreviewIcon,\n          showRemoveIcon = _this$props.showRemoveIcon,\n          locale = _this$props.locale;\n      var prefixCls = getPrefixCls('upload', customizePrefixCls);\n      var list = items.map(function (file) {\n        var _classNames;\n\n        var progress;\n        var icon = React.createElement(Icon, {\n          type: file.status === 'uploading' ? 'loading' : 'paper-clip'\n        });\n\n        if (listType === 'picture' || listType === 'picture-card') {\n          if (listType === 'picture-card' && file.status === 'uploading') {\n            icon = React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-list-item-uploading-text\")\n            }, locale.uploading);\n          } else if (!file.thumbUrl && !file.url) {\n            icon = React.createElement(Icon, {\n              className: \"\".concat(prefixCls, \"-list-item-thumbnail\"),\n              type: \"picture\",\n              theme: \"twoTone\"\n            });\n          } else {\n            var thumbnail = isImageUrl(file) ? React.createElement(\"img\", {\n              src: file.thumbUrl || file.url,\n              alt: file.name\n            }) : React.createElement(Icon, {\n              type: \"file\",\n              className: \"\".concat(prefixCls, \"-list-item-icon\"),\n              theme: \"twoTone\"\n            });\n            icon = React.createElement(\"a\", {\n              className: \"\".concat(prefixCls, \"-list-item-thumbnail\"),\n              onClick: function onClick(e) {\n                return _this.handlePreview(file, e);\n              },\n              href: file.url || file.thumbUrl,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\"\n            }, thumbnail);\n          }\n        }\n\n        if (file.status === 'uploading') {\n          // show loading icon if upload progress listener is disabled\n          var loadingProgress = 'percent' in file ? React.createElement(Progress, _extends({\n            type: \"line\"\n          }, _this.props.progressAttr, {\n            percent: file.percent\n          })) : null;\n          progress = React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-list-item-progress\"),\n            key: \"progress\"\n          }, loadingProgress);\n        }\n\n        var infoUploadingClass = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-\").concat(file.status), true), _classNames));\n        var linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n        var preview = file.url ? React.createElement(\"a\", _extends({\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"\".concat(prefixCls, \"-list-item-name\"),\n          title: file.name\n        }, linkProps, {\n          href: file.url,\n          onClick: function onClick(e) {\n            return _this.handlePreview(file, e);\n          }\n        }), file.name) : React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-list-item-name\"),\n          onClick: function onClick(e) {\n            return _this.handlePreview(file, e);\n          },\n          title: file.name\n        }, file.name);\n        var style = {\n          pointerEvents: 'none',\n          opacity: 0.5\n        };\n        var previewIcon = showPreviewIcon ? React.createElement(\"a\", {\n          href: file.url || file.thumbUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          style: file.url || file.thumbUrl ? undefined : style,\n          onClick: function onClick(e) {\n            return _this.handlePreview(file, e);\n          },\n          title: locale.previewFile\n        }, React.createElement(Icon, {\n          type: \"eye-o\"\n        })) : null;\n        var removeIcon = showRemoveIcon ? React.createElement(Icon, {\n          type: \"delete\",\n          title: locale.removeFile,\n          onClick: function onClick() {\n            return _this.handleClose(file);\n          }\n        }) : null;\n        var removeIconClose = showRemoveIcon ? React.createElement(Icon, {\n          type: \"close\",\n          title: locale.removeFile,\n          onClick: function onClick() {\n            return _this.handleClose(file);\n          }\n        }) : null;\n        var actions = listType === 'picture-card' && file.status !== 'uploading' ? React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-list-item-actions\")\n        }, previewIcon, removeIcon) : removeIconClose;\n        var message;\n\n        if (file.response && typeof file.response === 'string') {\n          message = file.response;\n        } else {\n          message = file.error && file.error.statusText || locale.uploadError;\n        }\n\n        var iconAndPreview = file.status === 'error' ? React.createElement(Tooltip, {\n          title: message\n        }, icon, preview) : React.createElement(\"span\", null, icon, preview);\n        return React.createElement(\"div\", {\n          className: infoUploadingClass,\n          key: file.uid\n        }, React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-list-item-info\")\n        }, iconAndPreview), actions, React.createElement(Animate, {\n          transitionName: \"fade\",\n          component: \"\"\n        }, progress));\n      });\n      var listClassNames = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list\"), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-\").concat(listType), true), _classNames2));\n      var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n      return React.createElement(Animate, {\n        transitionName: \"\".concat(prefixCls, \"-\").concat(animationDirection),\n        component: \"div\",\n        className: listClassNames\n      }, list);\n    };\n\n    return _this;\n  }\n\n  _createClass(UploadList, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.props.listType !== 'picture' && this.props.listType !== 'picture-card') {\n        return;\n      }\n\n      (this.props.items || []).forEach(function (file) {\n        if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File) || file.thumbUrl !== undefined) {\n          return;\n        }\n\n        file.thumbUrl = '';\n\n        _this2.previewFile(file.originFileObj, function (previewDataUrl) {\n          file.thumbUrl = previewDataUrl;\n\n          _this2.forceUpdate();\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderUploadList);\n    }\n  }]);\n\n  return UploadList;\n}(React.Component);\n\nexport { UploadList as default };\nUploadList.defaultProps = {\n  listType: 'text',\n  progressAttr: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  showRemoveIcon: true,\n  showPreviewIcon: true\n};"]},"metadata":{},"sourceType":"module"}