{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport shallowequal from 'shallowequal';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport { Provider, create } from 'mini-store';\nimport merge from 'lodash/merge';\nimport classes from 'component-classes';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { debounce, warningOnce, getDataAndAriaProps } from './utils';\nimport ColumnManager from './ColumnManager';\nimport HeadTable from './HeadTable';\nimport BodyTable from './BodyTable';\nimport ExpandableTable from './ExpandableTable';\n\nvar Table = function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  function Table(props) {\n    _classCallCheck(this, Table);\n\n    var _this = _possibleConstructorReturn(this, (Table.__proto__ || Object.getPrototypeOf(Table)).call(this, props));\n\n    _this.state = {};\n\n    _this.getRowKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var key = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warningOnce(key !== undefined, 'Each record in table should have a unique `key` prop,' + 'or set `rowKey` to an unique primary key.');\n      return key === undefined ? index : key;\n    };\n\n    _this.handleWindowResize = function () {\n      _this.syncFixedTableRowHeight();\n\n      _this.setScrollPositionClassName();\n    };\n\n    _this.syncFixedTableRowHeight = function () {\n      var tableRect = _this.tableNode.getBoundingClientRect(); // If tableNode's height less than 0, suppose it is hidden and don't recalculate rowHeight.\n      // see: https://github.com/ant-design/ant-design/issues/4836\n\n\n      if (tableRect.height !== undefined && tableRect.height <= 0) {\n        return;\n      }\n\n      var prefixCls = _this.props.prefixCls;\n      var headRows = _this.headTable ? _this.headTable.querySelectorAll('thead') : _this.bodyTable.querySelectorAll('thead');\n      var bodyRows = _this.bodyTable.querySelectorAll('.' + prefixCls + '-row') || [];\n      var fixedColumnsHeadRowsHeight = [].map.call(headRows, function (row) {\n        return row.getBoundingClientRect().height || 'auto';\n      });\n\n      var state = _this.store.getState();\n\n      var fixedColumnsBodyRowsHeight = [].reduce.call(bodyRows, function (acc, row) {\n        var rowKey = row.getAttribute('data-row-key');\n        var height = row.getBoundingClientRect().height || state.fixedColumnsBodyRowsHeight[rowKey] || 'auto';\n        acc[rowKey] = height;\n        return acc;\n      }, {});\n\n      if (shallowequal(state.fixedColumnsHeadRowsHeight, fixedColumnsHeadRowsHeight) && shallowequal(state.fixedColumnsBodyRowsHeight, fixedColumnsBodyRowsHeight)) {\n        return;\n      }\n\n      _this.store.setState({\n        fixedColumnsHeadRowsHeight: fixedColumnsHeadRowsHeight,\n        fixedColumnsBodyRowsHeight: fixedColumnsBodyRowsHeight\n      });\n    };\n\n    _this.handleBodyScrollLeft = function (e) {\n      // Fix https://github.com/ant-design/ant-design/issues/7635\n      if (e.currentTarget !== e.target) {\n        return;\n      }\n\n      var target = e.target;\n      var _this$props$scroll = _this.props.scroll,\n          scroll = _this$props$scroll === undefined ? {} : _this$props$scroll;\n      var headTable = _this.headTable,\n          bodyTable = _this.bodyTable;\n\n      if (target.scrollLeft !== _this.lastScrollLeft && scroll.x) {\n        if (target === bodyTable && headTable) {\n          headTable.scrollLeft = target.scrollLeft;\n        } else if (target === headTable && bodyTable) {\n          bodyTable.scrollLeft = target.scrollLeft;\n        }\n\n        _this.setScrollPositionClassName();\n      } // Remember last scrollLeft for scroll direction detecting.\n\n\n      _this.lastScrollLeft = target.scrollLeft;\n    };\n\n    _this.handleBodyScrollTop = function (e) {\n      var target = e.target; // Fix https://github.com/ant-design/ant-design/issues/9033\n\n      if (e.currentTarget !== target) {\n        return;\n      }\n\n      var _this$props$scroll2 = _this.props.scroll,\n          scroll = _this$props$scroll2 === undefined ? {} : _this$props$scroll2;\n      var headTable = _this.headTable,\n          bodyTable = _this.bodyTable,\n          fixedColumnsBodyLeft = _this.fixedColumnsBodyLeft,\n          fixedColumnsBodyRight = _this.fixedColumnsBodyRight;\n\n      if (target.scrollTop !== _this.lastScrollTop && scroll.y && target !== headTable) {\n        var scrollTop = target.scrollTop;\n\n        if (fixedColumnsBodyLeft && target !== fixedColumnsBodyLeft) {\n          fixedColumnsBodyLeft.scrollTop = scrollTop;\n        }\n\n        if (fixedColumnsBodyRight && target !== fixedColumnsBodyRight) {\n          fixedColumnsBodyRight.scrollTop = scrollTop;\n        }\n\n        if (bodyTable && target !== bodyTable) {\n          bodyTable.scrollTop = scrollTop;\n        }\n      } // Remember last scrollTop for scroll direction detecting.\n\n\n      _this.lastScrollTop = target.scrollTop;\n    };\n\n    _this.handleBodyScroll = function (e) {\n      _this.handleBodyScrollLeft(e);\n\n      _this.handleBodyScrollTop(e);\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props$scroll3 = _this.props.scroll,\n          scroll = _this$props$scroll3 === undefined ? {} : _this$props$scroll3;\n\n      if (window.navigator.userAgent.match(/Trident\\/7\\./) && scroll.y) {\n        event.preventDefault();\n        var wd = event.deltaY;\n        var target = event.target;\n        var bodyTable = _this.bodyTable,\n            fixedColumnsBodyLeft = _this.fixedColumnsBodyLeft,\n            fixedColumnsBodyRight = _this.fixedColumnsBodyRight;\n        var scrollTop = 0;\n\n        if (_this.lastScrollTop) {\n          scrollTop = _this.lastScrollTop + wd;\n        } else {\n          scrollTop = wd;\n        }\n\n        if (fixedColumnsBodyLeft && target !== fixedColumnsBodyLeft) {\n          fixedColumnsBodyLeft.scrollTop = scrollTop;\n        }\n\n        if (fixedColumnsBodyRight && target !== fixedColumnsBodyRight) {\n          fixedColumnsBodyRight.scrollTop = scrollTop;\n        }\n\n        if (bodyTable && target !== bodyTable) {\n          bodyTable.scrollTop = scrollTop;\n        }\n      }\n    };\n\n    _this.saveRef = function (name) {\n      return function (node) {\n        _this[name] = node;\n      };\n    };\n\n    ['onRowClick', 'onRowDoubleClick', 'onRowContextMenu', 'onRowMouseEnter', 'onRowMouseLeave'].forEach(function (name) {\n      warningOnce(props[name] === undefined, name + ' is deprecated, please use onRow instead.');\n    });\n    warningOnce(props.getBodyWrapper === undefined, 'getBodyWrapper is deprecated, please use custom components instead.');\n    _this.columnManager = new ColumnManager(props.columns, props.children);\n    _this.store = create({\n      currentHoverKey: null,\n      fixedColumnsHeadRowsHeight: [],\n      fixedColumnsBodyRowsHeight: {}\n    });\n\n    _this.setScrollPosition('left');\n\n    _this.debouncedWindowResize = debounce(_this.handleWindowResize, 150);\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        table: {\n          props: this.props,\n          columnManager: this.columnManager,\n          saveRef: this.saveRef,\n          components: merge({\n            table: 'table',\n            header: {\n              wrapper: 'thead',\n              row: 'tr',\n              cell: 'th'\n            },\n            body: {\n              wrapper: 'tbody',\n              row: 'tr',\n              cell: 'td'\n            }\n          }, this.props.components)\n        }\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.columnManager.isAnyColumnsFixed()) {\n        this.handleWindowResize();\n        this.resizeEvent = addEventListener(window, 'resize', this.debouncedWindowResize);\n      } // https://github.com/ant-design/ant-design/issues/11635\n\n\n      if (this.headTable) {\n        this.headTable.scrollLeft = 0;\n      }\n\n      if (this.bodyTable) {\n        this.bodyTable.scrollLeft = 0;\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.columnManager.isAnyColumnsFixed()) {\n        this.handleWindowResize();\n\n        if (!this.resizeEvent) {\n          this.resizeEvent = addEventListener(window, 'resize', this.debouncedWindowResize);\n        }\n      } // when table changes to empty, reset scrollLeft\n\n\n      if (prevProps.data.length > 0 && this.props.data.length === 0 && this.hasScrollX()) {\n        this.resetScrollX();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.resizeEvent) {\n        this.resizeEvent.remove();\n      }\n\n      if (this.debouncedWindowResize) {\n        this.debouncedWindowResize.cancel();\n      }\n    }\n  }, {\n    key: 'setScrollPosition',\n    value: function setScrollPosition(position) {\n      this.scrollPosition = position;\n\n      if (this.tableNode) {\n        var prefixCls = this.props.prefixCls;\n\n        if (position === 'both') {\n          classes(this.tableNode).remove(new RegExp('^' + prefixCls + '-scroll-position-.+$')).add(prefixCls + '-scroll-position-left').add(prefixCls + '-scroll-position-right');\n        } else {\n          classes(this.tableNode).remove(new RegExp('^' + prefixCls + '-scroll-position-.+$')).add(prefixCls + '-scroll-position-' + position);\n        }\n      }\n    }\n  }, {\n    key: 'setScrollPositionClassName',\n    value: function setScrollPositionClassName() {\n      var node = this.bodyTable;\n      var scrollToLeft = node.scrollLeft === 0;\n      var scrollToRight = node.scrollLeft + 1 >= node.children[0].getBoundingClientRect().width - node.getBoundingClientRect().width;\n\n      if (scrollToLeft && scrollToRight) {\n        this.setScrollPosition('both');\n      } else if (scrollToLeft) {\n        this.setScrollPosition('left');\n      } else if (scrollToRight) {\n        this.setScrollPosition('right');\n      } else if (this.scrollPosition !== 'middle') {\n        this.setScrollPosition('middle');\n      }\n    }\n  }, {\n    key: 'resetScrollX',\n    value: function resetScrollX() {\n      if (this.headTable) {\n        this.headTable.scrollLeft = 0;\n      }\n\n      if (this.bodyTable) {\n        this.bodyTable.scrollLeft = 0;\n      }\n    }\n  }, {\n    key: 'hasScrollX',\n    value: function hasScrollX() {\n      var _props$scroll = this.props.scroll,\n          scroll = _props$scroll === undefined ? {} : _props$scroll;\n      return 'x' in scroll;\n    }\n  }, {\n    key: 'renderMainTable',\n    value: function renderMainTable() {\n      var _props = this.props,\n          scroll = _props.scroll,\n          prefixCls = _props.prefixCls;\n      var isAnyColumnsFixed = this.columnManager.isAnyColumnsFixed();\n      var scrollable = isAnyColumnsFixed || scroll.x || scroll.y;\n      var table = [this.renderTable({\n        columns: this.columnManager.groupedColumns(),\n        isAnyColumnsFixed: isAnyColumnsFixed\n      }), this.renderEmptyText(), this.renderFooter()];\n      return scrollable ? React.createElement('div', {\n        className: prefixCls + '-scroll'\n      }, table) : table;\n    }\n  }, {\n    key: 'renderLeftFixedTable',\n    value: function renderLeftFixedTable() {\n      var prefixCls = this.props.prefixCls;\n      return React.createElement('div', {\n        className: prefixCls + '-fixed-left'\n      }, this.renderTable({\n        columns: this.columnManager.leftColumns(),\n        fixed: 'left'\n      }));\n    }\n  }, {\n    key: 'renderRightFixedTable',\n    value: function renderRightFixedTable() {\n      var prefixCls = this.props.prefixCls;\n      return React.createElement('div', {\n        className: prefixCls + '-fixed-right'\n      }, this.renderTable({\n        columns: this.columnManager.rightColumns(),\n        fixed: 'right'\n      }));\n    }\n  }, {\n    key: 'renderTable',\n    value: function renderTable(options) {\n      var columns = options.columns,\n          fixed = options.fixed,\n          isAnyColumnsFixed = options.isAnyColumnsFixed;\n      var _props2 = this.props,\n          prefixCls = _props2.prefixCls,\n          _props2$scroll = _props2.scroll,\n          scroll = _props2$scroll === undefined ? {} : _props2$scroll;\n      var tableClassName = scroll.x || fixed ? prefixCls + '-fixed' : '';\n      var headTable = React.createElement(HeadTable, {\n        key: 'head',\n        columns: columns,\n        fixed: fixed,\n        tableClassName: tableClassName,\n        handleBodyScrollLeft: this.handleBodyScrollLeft,\n        expander: this.expander\n      });\n      var bodyTable = React.createElement(BodyTable, {\n        key: 'body',\n        columns: columns,\n        fixed: fixed,\n        tableClassName: tableClassName,\n        getRowKey: this.getRowKey,\n        handleWheel: this.handleWheel,\n        handleBodyScroll: this.handleBodyScroll,\n        expander: this.expander,\n        isAnyColumnsFixed: isAnyColumnsFixed\n      });\n      return [headTable, bodyTable];\n    }\n  }, {\n    key: 'renderTitle',\n    value: function renderTitle() {\n      var _props3 = this.props,\n          title = _props3.title,\n          prefixCls = _props3.prefixCls;\n      return title ? React.createElement('div', {\n        className: prefixCls + '-title',\n        key: 'title'\n      }, title(this.props.data)) : null;\n    }\n  }, {\n    key: 'renderFooter',\n    value: function renderFooter() {\n      var _props4 = this.props,\n          footer = _props4.footer,\n          prefixCls = _props4.prefixCls;\n      return footer ? React.createElement('div', {\n        className: prefixCls + '-footer',\n        key: 'footer'\n      }, footer(this.props.data)) : null;\n    }\n  }, {\n    key: 'renderEmptyText',\n    value: function renderEmptyText() {\n      var _props5 = this.props,\n          emptyText = _props5.emptyText,\n          prefixCls = _props5.prefixCls,\n          data = _props5.data;\n\n      if (data.length) {\n        return null;\n      }\n\n      var emptyClassName = prefixCls + '-placeholder';\n      return React.createElement('div', {\n        className: emptyClassName,\n        key: 'emptyText'\n      }, typeof emptyText === 'function' ? emptyText() : emptyText);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.props;\n      var prefixCls = props.prefixCls;\n\n      if (this.state.columns) {\n        this.columnManager.reset(props.columns);\n      } else if (this.state.children) {\n        this.columnManager.reset(null, props.children);\n      }\n\n      var className = props.prefixCls;\n\n      if (props.className) {\n        className += ' ' + props.className;\n      }\n\n      if (props.useFixedHeader || props.scroll && props.scroll.y) {\n        className += ' ' + prefixCls + '-fixed-header';\n      }\n\n      if (this.scrollPosition === 'both') {\n        className += ' ' + prefixCls + '-scroll-position-left ' + prefixCls + '-scroll-position-right';\n      } else {\n        className += ' ' + prefixCls + '-scroll-position-' + this.scrollPosition;\n      }\n\n      var hasLeftFixed = this.columnManager.isAnyColumnsLeftFixed();\n      var hasRightFixed = this.columnManager.isAnyColumnsRightFixed();\n      var dataAndAriaProps = getDataAndAriaProps(props);\n      return React.createElement(Provider, {\n        store: this.store\n      }, React.createElement(ExpandableTable, _extends({}, props, {\n        columnManager: this.columnManager,\n        getRowKey: this.getRowKey\n      }), function (expander) {\n        _this2.expander = expander;\n        return React.createElement('div', _extends({\n          ref: _this2.saveRef('tableNode'),\n          className: className,\n          style: props.style,\n          id: props.id\n        }, dataAndAriaProps), _this2.renderTitle(), React.createElement('div', {\n          className: prefixCls + '-content'\n        }, _this2.renderMainTable(), hasLeftFixed && _this2.renderLeftFixedTable(), hasRightFixed && _this2.renderRightFixedTable()));\n      }));\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.columns && nextProps.columns !== prevState.columns) {\n        return {\n          columns: nextProps.columns,\n          children: null\n        };\n      } else if (nextProps.children !== prevState.children) {\n        return {\n          columns: null,\n          children: nextProps.children\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = _extends({\n  data: PropTypes.array,\n  useFixedHeader: PropTypes.bool,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  bodyStyle: PropTypes.object,\n  style: PropTypes.object,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onRow: PropTypes.func,\n  onHeaderRow: PropTypes.func,\n  onRowClick: PropTypes.func,\n  onRowDoubleClick: PropTypes.func,\n  onRowContextMenu: PropTypes.func,\n  onRowMouseEnter: PropTypes.func,\n  onRowMouseLeave: PropTypes.func,\n  showHeader: PropTypes.bool,\n  title: PropTypes.func,\n  id: PropTypes.string,\n  footer: PropTypes.func,\n  emptyText: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  scroll: PropTypes.object,\n  rowRef: PropTypes.func,\n  getBodyWrapper: PropTypes.func,\n  children: PropTypes.node,\n  components: PropTypes.shape({\n    table: PropTypes.any,\n    header: PropTypes.shape({\n      wrapper: PropTypes.any,\n      row: PropTypes.any,\n      cell: PropTypes.any\n    }),\n    body: PropTypes.shape({\n      wrapper: PropTypes.any,\n      row: PropTypes.any,\n      cell: PropTypes.any\n    })\n  })\n}, ExpandableTable.PropTypes);\nTable.childContextTypes = {\n  table: PropTypes.any,\n  components: PropTypes.any\n};\nTable.defaultProps = {\n  data: [],\n  useFixedHeader: false,\n  rowKey: 'key',\n  rowClassName: function rowClassName() {\n    return '';\n  },\n  onRow: function onRow() {},\n  onHeaderRow: function onHeaderRow() {},\n  prefixCls: 'rc-table',\n  bodyStyle: {},\n  style: {},\n  showHeader: true,\n  scroll: {},\n  rowRef: function rowRef() {\n    return null;\n  },\n  emptyText: function emptyText() {\n    return 'No Data';\n  }\n};\npolyfill(Table);\nexport default Table;","map":{"version":3,"sources":["/Users/SHAWN/Downloads/StudyMate2/node_modules/rc-table/es/Table.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","shallowequal","addEventListener","Provider","create","merge","classes","polyfill","debounce","warningOnce","getDataAndAriaProps","ColumnManager","HeadTable","BodyTable","ExpandableTable","Table","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","state","getRowKey","record","index","rowKey","key","undefined","handleWindowResize","syncFixedTableRowHeight","setScrollPositionClassName","tableRect","tableNode","getBoundingClientRect","height","prefixCls","headRows","headTable","querySelectorAll","bodyTable","bodyRows","fixedColumnsHeadRowsHeight","map","row","store","getState","fixedColumnsBodyRowsHeight","reduce","acc","getAttribute","setState","handleBodyScrollLeft","e","currentTarget","target","_this$props$scroll","scroll","scrollLeft","lastScrollLeft","x","handleBodyScrollTop","_this$props$scroll2","fixedColumnsBodyLeft","fixedColumnsBodyRight","scrollTop","lastScrollTop","y","handleBodyScroll","handleWheel","event","_this$props$scroll3","window","navigator","userAgent","match","preventDefault","wd","deltaY","saveRef","name","node","forEach","getBodyWrapper","columnManager","columns","children","currentHoverKey","setScrollPosition","debouncedWindowResize","value","getChildContext","table","components","header","wrapper","cell","body","componentDidMount","isAnyColumnsFixed","resizeEvent","componentDidUpdate","prevProps","data","length","hasScrollX","resetScrollX","componentWillUnmount","remove","cancel","position","scrollPosition","RegExp","add","scrollToLeft","scrollToRight","width","_props$scroll","renderMainTable","_props","scrollable","renderTable","groupedColumns","renderEmptyText","renderFooter","createElement","className","renderLeftFixedTable","leftColumns","fixed","renderRightFixedTable","rightColumns","options","_props2","_props2$scroll","tableClassName","expander","renderTitle","_props3","title","_props4","footer","_props5","emptyText","emptyClassName","render","_this2","reset","useFixedHeader","hasLeftFixed","isAnyColumnsLeftFixed","hasRightFixed","isAnyColumnsRightFixed","dataAndAriaProps","ref","style","id","getDerivedStateFromProps","nextProps","prevState","Component","propTypes","array","bool","string","bodyStyle","object","oneOfType","func","rowClassName","onRow","onHeaderRow","onRowClick","onRowDoubleClick","onRowContextMenu","onRowMouseEnter","onRowMouseLeave","showHeader","rowRef","shape","any","childContextTypes","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport shallowequal from 'shallowequal';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport { Provider, create } from 'mini-store';\nimport merge from 'lodash/merge';\nimport classes from 'component-classes';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { debounce, warningOnce, getDataAndAriaProps } from './utils';\nimport ColumnManager from './ColumnManager';\nimport HeadTable from './HeadTable';\nimport BodyTable from './BodyTable';\nimport ExpandableTable from './ExpandableTable';\n\nvar Table = function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  function Table(props) {\n    _classCallCheck(this, Table);\n\n    var _this = _possibleConstructorReturn(this, (Table.__proto__ || Object.getPrototypeOf(Table)).call(this, props));\n\n    _this.state = {};\n\n    _this.getRowKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var key = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warningOnce(key !== undefined, 'Each record in table should have a unique `key` prop,' + 'or set `rowKey` to an unique primary key.');\n      return key === undefined ? index : key;\n    };\n\n    _this.handleWindowResize = function () {\n      _this.syncFixedTableRowHeight();\n      _this.setScrollPositionClassName();\n    };\n\n    _this.syncFixedTableRowHeight = function () {\n      var tableRect = _this.tableNode.getBoundingClientRect();\n      // If tableNode's height less than 0, suppose it is hidden and don't recalculate rowHeight.\n      // see: https://github.com/ant-design/ant-design/issues/4836\n      if (tableRect.height !== undefined && tableRect.height <= 0) {\n        return;\n      }\n      var prefixCls = _this.props.prefixCls;\n\n      var headRows = _this.headTable ? _this.headTable.querySelectorAll('thead') : _this.bodyTable.querySelectorAll('thead');\n      var bodyRows = _this.bodyTable.querySelectorAll('.' + prefixCls + '-row') || [];\n      var fixedColumnsHeadRowsHeight = [].map.call(headRows, function (row) {\n        return row.getBoundingClientRect().height || 'auto';\n      });\n      var state = _this.store.getState();\n      var fixedColumnsBodyRowsHeight = [].reduce.call(bodyRows, function (acc, row) {\n        var rowKey = row.getAttribute('data-row-key');\n        var height = row.getBoundingClientRect().height || state.fixedColumnsBodyRowsHeight[rowKey] || 'auto';\n        acc[rowKey] = height;\n        return acc;\n      }, {});\n      if (shallowequal(state.fixedColumnsHeadRowsHeight, fixedColumnsHeadRowsHeight) && shallowequal(state.fixedColumnsBodyRowsHeight, fixedColumnsBodyRowsHeight)) {\n        return;\n      }\n\n      _this.store.setState({\n        fixedColumnsHeadRowsHeight: fixedColumnsHeadRowsHeight,\n        fixedColumnsBodyRowsHeight: fixedColumnsBodyRowsHeight\n      });\n    };\n\n    _this.handleBodyScrollLeft = function (e) {\n      // Fix https://github.com/ant-design/ant-design/issues/7635\n      if (e.currentTarget !== e.target) {\n        return;\n      }\n      var target = e.target;\n      var _this$props$scroll = _this.props.scroll,\n          scroll = _this$props$scroll === undefined ? {} : _this$props$scroll;\n      var headTable = _this.headTable,\n          bodyTable = _this.bodyTable;\n\n      if (target.scrollLeft !== _this.lastScrollLeft && scroll.x) {\n        if (target === bodyTable && headTable) {\n          headTable.scrollLeft = target.scrollLeft;\n        } else if (target === headTable && bodyTable) {\n          bodyTable.scrollLeft = target.scrollLeft;\n        }\n        _this.setScrollPositionClassName();\n      }\n      // Remember last scrollLeft for scroll direction detecting.\n      _this.lastScrollLeft = target.scrollLeft;\n    };\n\n    _this.handleBodyScrollTop = function (e) {\n      var target = e.target;\n      // Fix https://github.com/ant-design/ant-design/issues/9033\n      if (e.currentTarget !== target) {\n        return;\n      }\n      var _this$props$scroll2 = _this.props.scroll,\n          scroll = _this$props$scroll2 === undefined ? {} : _this$props$scroll2;\n      var headTable = _this.headTable,\n          bodyTable = _this.bodyTable,\n          fixedColumnsBodyLeft = _this.fixedColumnsBodyLeft,\n          fixedColumnsBodyRight = _this.fixedColumnsBodyRight;\n\n      if (target.scrollTop !== _this.lastScrollTop && scroll.y && target !== headTable) {\n        var scrollTop = target.scrollTop;\n        if (fixedColumnsBodyLeft && target !== fixedColumnsBodyLeft) {\n          fixedColumnsBodyLeft.scrollTop = scrollTop;\n        }\n        if (fixedColumnsBodyRight && target !== fixedColumnsBodyRight) {\n          fixedColumnsBodyRight.scrollTop = scrollTop;\n        }\n        if (bodyTable && target !== bodyTable) {\n          bodyTable.scrollTop = scrollTop;\n        }\n      }\n      // Remember last scrollTop for scroll direction detecting.\n      _this.lastScrollTop = target.scrollTop;\n    };\n\n    _this.handleBodyScroll = function (e) {\n      _this.handleBodyScrollLeft(e);\n      _this.handleBodyScrollTop(e);\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props$scroll3 = _this.props.scroll,\n          scroll = _this$props$scroll3 === undefined ? {} : _this$props$scroll3;\n\n      if (window.navigator.userAgent.match(/Trident\\/7\\./) && scroll.y) {\n        event.preventDefault();\n        var wd = event.deltaY;\n        var target = event.target;\n        var bodyTable = _this.bodyTable,\n            fixedColumnsBodyLeft = _this.fixedColumnsBodyLeft,\n            fixedColumnsBodyRight = _this.fixedColumnsBodyRight;\n\n        var scrollTop = 0;\n\n        if (_this.lastScrollTop) {\n          scrollTop = _this.lastScrollTop + wd;\n        } else {\n          scrollTop = wd;\n        }\n\n        if (fixedColumnsBodyLeft && target !== fixedColumnsBodyLeft) {\n          fixedColumnsBodyLeft.scrollTop = scrollTop;\n        }\n        if (fixedColumnsBodyRight && target !== fixedColumnsBodyRight) {\n          fixedColumnsBodyRight.scrollTop = scrollTop;\n        }\n        if (bodyTable && target !== bodyTable) {\n          bodyTable.scrollTop = scrollTop;\n        }\n      }\n    };\n\n    _this.saveRef = function (name) {\n      return function (node) {\n        _this[name] = node;\n      };\n    };\n\n    ['onRowClick', 'onRowDoubleClick', 'onRowContextMenu', 'onRowMouseEnter', 'onRowMouseLeave'].forEach(function (name) {\n      warningOnce(props[name] === undefined, name + ' is deprecated, please use onRow instead.');\n    });\n\n    warningOnce(props.getBodyWrapper === undefined, 'getBodyWrapper is deprecated, please use custom components instead.');\n\n    _this.columnManager = new ColumnManager(props.columns, props.children);\n\n    _this.store = create({\n      currentHoverKey: null,\n      fixedColumnsHeadRowsHeight: [],\n      fixedColumnsBodyRowsHeight: {}\n    });\n\n    _this.setScrollPosition('left');\n\n    _this.debouncedWindowResize = debounce(_this.handleWindowResize, 150);\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        table: {\n          props: this.props,\n          columnManager: this.columnManager,\n          saveRef: this.saveRef,\n          components: merge({\n            table: 'table',\n            header: {\n              wrapper: 'thead',\n              row: 'tr',\n              cell: 'th'\n            },\n            body: {\n              wrapper: 'tbody',\n              row: 'tr',\n              cell: 'td'\n            }\n          }, this.props.components)\n        }\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.columnManager.isAnyColumnsFixed()) {\n        this.handleWindowResize();\n        this.resizeEvent = addEventListener(window, 'resize', this.debouncedWindowResize);\n      }\n\n      // https://github.com/ant-design/ant-design/issues/11635\n      if (this.headTable) {\n        this.headTable.scrollLeft = 0;\n      }\n      if (this.bodyTable) {\n        this.bodyTable.scrollLeft = 0;\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.columnManager.isAnyColumnsFixed()) {\n        this.handleWindowResize();\n        if (!this.resizeEvent) {\n          this.resizeEvent = addEventListener(window, 'resize', this.debouncedWindowResize);\n        }\n      }\n      // when table changes to empty, reset scrollLeft\n      if (prevProps.data.length > 0 && this.props.data.length === 0 && this.hasScrollX()) {\n        this.resetScrollX();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.resizeEvent) {\n        this.resizeEvent.remove();\n      }\n      if (this.debouncedWindowResize) {\n        this.debouncedWindowResize.cancel();\n      }\n    }\n  }, {\n    key: 'setScrollPosition',\n    value: function setScrollPosition(position) {\n      this.scrollPosition = position;\n      if (this.tableNode) {\n        var prefixCls = this.props.prefixCls;\n\n        if (position === 'both') {\n          classes(this.tableNode).remove(new RegExp('^' + prefixCls + '-scroll-position-.+$')).add(prefixCls + '-scroll-position-left').add(prefixCls + '-scroll-position-right');\n        } else {\n          classes(this.tableNode).remove(new RegExp('^' + prefixCls + '-scroll-position-.+$')).add(prefixCls + '-scroll-position-' + position);\n        }\n      }\n    }\n  }, {\n    key: 'setScrollPositionClassName',\n    value: function setScrollPositionClassName() {\n      var node = this.bodyTable;\n      var scrollToLeft = node.scrollLeft === 0;\n      var scrollToRight = node.scrollLeft + 1 >= node.children[0].getBoundingClientRect().width - node.getBoundingClientRect().width;\n      if (scrollToLeft && scrollToRight) {\n        this.setScrollPosition('both');\n      } else if (scrollToLeft) {\n        this.setScrollPosition('left');\n      } else if (scrollToRight) {\n        this.setScrollPosition('right');\n      } else if (this.scrollPosition !== 'middle') {\n        this.setScrollPosition('middle');\n      }\n    }\n  }, {\n    key: 'resetScrollX',\n    value: function resetScrollX() {\n      if (this.headTable) {\n        this.headTable.scrollLeft = 0;\n      }\n      if (this.bodyTable) {\n        this.bodyTable.scrollLeft = 0;\n      }\n    }\n  }, {\n    key: 'hasScrollX',\n    value: function hasScrollX() {\n      var _props$scroll = this.props.scroll,\n          scroll = _props$scroll === undefined ? {} : _props$scroll;\n\n      return 'x' in scroll;\n    }\n  }, {\n    key: 'renderMainTable',\n    value: function renderMainTable() {\n      var _props = this.props,\n          scroll = _props.scroll,\n          prefixCls = _props.prefixCls;\n\n      var isAnyColumnsFixed = this.columnManager.isAnyColumnsFixed();\n      var scrollable = isAnyColumnsFixed || scroll.x || scroll.y;\n\n      var table = [this.renderTable({\n        columns: this.columnManager.groupedColumns(),\n        isAnyColumnsFixed: isAnyColumnsFixed\n      }), this.renderEmptyText(), this.renderFooter()];\n\n      return scrollable ? React.createElement(\n        'div',\n        { className: prefixCls + '-scroll' },\n        table\n      ) : table;\n    }\n  }, {\n    key: 'renderLeftFixedTable',\n    value: function renderLeftFixedTable() {\n      var prefixCls = this.props.prefixCls;\n\n\n      return React.createElement(\n        'div',\n        { className: prefixCls + '-fixed-left' },\n        this.renderTable({\n          columns: this.columnManager.leftColumns(),\n          fixed: 'left'\n        })\n      );\n    }\n  }, {\n    key: 'renderRightFixedTable',\n    value: function renderRightFixedTable() {\n      var prefixCls = this.props.prefixCls;\n\n\n      return React.createElement(\n        'div',\n        { className: prefixCls + '-fixed-right' },\n        this.renderTable({\n          columns: this.columnManager.rightColumns(),\n          fixed: 'right'\n        })\n      );\n    }\n  }, {\n    key: 'renderTable',\n    value: function renderTable(options) {\n      var columns = options.columns,\n          fixed = options.fixed,\n          isAnyColumnsFixed = options.isAnyColumnsFixed;\n      var _props2 = this.props,\n          prefixCls = _props2.prefixCls,\n          _props2$scroll = _props2.scroll,\n          scroll = _props2$scroll === undefined ? {} : _props2$scroll;\n\n      var tableClassName = scroll.x || fixed ? prefixCls + '-fixed' : '';\n\n      var headTable = React.createElement(HeadTable, {\n        key: 'head',\n        columns: columns,\n        fixed: fixed,\n        tableClassName: tableClassName,\n        handleBodyScrollLeft: this.handleBodyScrollLeft,\n        expander: this.expander\n      });\n\n      var bodyTable = React.createElement(BodyTable, {\n        key: 'body',\n        columns: columns,\n        fixed: fixed,\n        tableClassName: tableClassName,\n        getRowKey: this.getRowKey,\n        handleWheel: this.handleWheel,\n        handleBodyScroll: this.handleBodyScroll,\n        expander: this.expander,\n        isAnyColumnsFixed: isAnyColumnsFixed\n      });\n\n      return [headTable, bodyTable];\n    }\n  }, {\n    key: 'renderTitle',\n    value: function renderTitle() {\n      var _props3 = this.props,\n          title = _props3.title,\n          prefixCls = _props3.prefixCls;\n\n      return title ? React.createElement(\n        'div',\n        { className: prefixCls + '-title', key: 'title' },\n        title(this.props.data)\n      ) : null;\n    }\n  }, {\n    key: 'renderFooter',\n    value: function renderFooter() {\n      var _props4 = this.props,\n          footer = _props4.footer,\n          prefixCls = _props4.prefixCls;\n\n      return footer ? React.createElement(\n        'div',\n        { className: prefixCls + '-footer', key: 'footer' },\n        footer(this.props.data)\n      ) : null;\n    }\n  }, {\n    key: 'renderEmptyText',\n    value: function renderEmptyText() {\n      var _props5 = this.props,\n          emptyText = _props5.emptyText,\n          prefixCls = _props5.prefixCls,\n          data = _props5.data;\n\n      if (data.length) {\n        return null;\n      }\n      var emptyClassName = prefixCls + '-placeholder';\n      return React.createElement(\n        'div',\n        { className: emptyClassName, key: 'emptyText' },\n        typeof emptyText === 'function' ? emptyText() : emptyText\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.props;\n      var prefixCls = props.prefixCls;\n\n      if (this.state.columns) {\n        this.columnManager.reset(props.columns);\n      } else if (this.state.children) {\n        this.columnManager.reset(null, props.children);\n      }\n\n      var className = props.prefixCls;\n      if (props.className) {\n        className += ' ' + props.className;\n      }\n      if (props.useFixedHeader || props.scroll && props.scroll.y) {\n        className += ' ' + prefixCls + '-fixed-header';\n      }\n      if (this.scrollPosition === 'both') {\n        className += ' ' + prefixCls + '-scroll-position-left ' + prefixCls + '-scroll-position-right';\n      } else {\n        className += ' ' + prefixCls + '-scroll-position-' + this.scrollPosition;\n      }\n      var hasLeftFixed = this.columnManager.isAnyColumnsLeftFixed();\n      var hasRightFixed = this.columnManager.isAnyColumnsRightFixed();\n      var dataAndAriaProps = getDataAndAriaProps(props);\n\n      return React.createElement(\n        Provider,\n        { store: this.store },\n        React.createElement(\n          ExpandableTable,\n          _extends({}, props, { columnManager: this.columnManager, getRowKey: this.getRowKey }),\n          function (expander) {\n            _this2.expander = expander;\n            return React.createElement(\n              'div',\n              _extends({\n                ref: _this2.saveRef('tableNode'),\n                className: className,\n                style: props.style,\n                id: props.id\n              }, dataAndAriaProps),\n              _this2.renderTitle(),\n              React.createElement(\n                'div',\n                { className: prefixCls + '-content' },\n                _this2.renderMainTable(),\n                hasLeftFixed && _this2.renderLeftFixedTable(),\n                hasRightFixed && _this2.renderRightFixedTable()\n              )\n            );\n          }\n        )\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.columns && nextProps.columns !== prevState.columns) {\n        return {\n          columns: nextProps.columns,\n          children: null\n        };\n      } else if (nextProps.children !== prevState.children) {\n        return {\n          columns: null,\n          children: nextProps.children\n        };\n      }\n      return null;\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = _extends({\n  data: PropTypes.array,\n  useFixedHeader: PropTypes.bool,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  bodyStyle: PropTypes.object,\n  style: PropTypes.object,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onRow: PropTypes.func,\n  onHeaderRow: PropTypes.func,\n  onRowClick: PropTypes.func,\n  onRowDoubleClick: PropTypes.func,\n  onRowContextMenu: PropTypes.func,\n  onRowMouseEnter: PropTypes.func,\n  onRowMouseLeave: PropTypes.func,\n  showHeader: PropTypes.bool,\n  title: PropTypes.func,\n  id: PropTypes.string,\n  footer: PropTypes.func,\n  emptyText: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  scroll: PropTypes.object,\n  rowRef: PropTypes.func,\n  getBodyWrapper: PropTypes.func,\n  children: PropTypes.node,\n  components: PropTypes.shape({\n    table: PropTypes.any,\n    header: PropTypes.shape({\n      wrapper: PropTypes.any,\n      row: PropTypes.any,\n      cell: PropTypes.any\n    }),\n    body: PropTypes.shape({\n      wrapper: PropTypes.any,\n      row: PropTypes.any,\n      cell: PropTypes.any\n    })\n  })\n}, ExpandableTable.PropTypes);\nTable.childContextTypes = {\n  table: PropTypes.any,\n  components: PropTypes.any\n};\nTable.defaultProps = {\n  data: [],\n  useFixedHeader: false,\n  rowKey: 'key',\n  rowClassName: function rowClassName() {\n    return '';\n  },\n  onRow: function onRow() {},\n  onHeaderRow: function onHeaderRow() {},\n\n  prefixCls: 'rc-table',\n  bodyStyle: {},\n  style: {},\n  showHeader: true,\n  scroll: {},\n  rowRef: function rowRef() {\n    return null;\n  },\n  emptyText: function emptyText() {\n    return 'No Data';\n  }\n};\n\n\npolyfill(Table);\n\nexport default Table;"]},"metadata":{},"sourceType":"module"}