{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Dialog from './Dialog';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nvar IS_REACT_16 = 'createPortal' in ReactDOM;\n\nvar DialogWrap = function (_React$Component) {\n  _inherits(DialogWrap, _React$Component);\n\n  function DialogWrap() {\n    _classCallCheck(this, DialogWrap);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\n    _this.saveDialog = function (node) {\n      _this._component = node;\n    };\n\n    _this.getComponent = function () {\n      var extra = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return React.createElement(Dialog, _extends({\n        ref: _this.saveDialog\n      }, _this.props, extra, {\n        key: \"dialog\"\n      }));\n    }; // fix issue #10656\n\n    /*\n    * Custom container should not be return, because in the Portal component, it will remove the\n    * return container element here, if the custom container is the only child of it's component,\n    * like issue #10656, It will has a conflict with removeChild method in react-dom.\n    * So here should add a child (div element) to custom container.\n    * */\n\n\n    _this.getContainer = function () {\n      var container = document.createElement('div');\n\n      if (_this.props.getContainer) {\n        _this.props.getContainer().appendChild(container);\n      } else {\n        document.body.appendChild(container);\n      }\n\n      return container;\n    };\n\n    return _this;\n  }\n\n  DialogWrap.prototype.shouldComponentUpdate = function shouldComponentUpdate(_ref) {\n    var visible = _ref.visible,\n        forceRender = _ref.forceRender;\n    return !!(this.props.visible || visible) || this.props.forceRender || forceRender;\n  };\n\n  DialogWrap.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (IS_REACT_16) {\n      return;\n    }\n\n    if (this.props.visible) {\n      this.renderComponent({\n        afterClose: this.removeContainer,\n        onClose: function onClose() {},\n        visible: false\n      });\n    } else {\n      this.removeContainer();\n    }\n  };\n\n  DialogWrap.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        visible = _props.visible,\n        forceRender = _props.forceRender;\n    var portal = null;\n\n    if (!IS_REACT_16) {\n      return React.createElement(ContainerRender, {\n        parent: this,\n        visible: visible,\n        autoDestroy: false,\n        getComponent: this.getComponent,\n        getContainer: this.getContainer,\n        forceRender: forceRender\n      }, function (_ref2) {\n        var renderComponent = _ref2.renderComponent,\n            removeContainer = _ref2.removeContainer;\n        _this2.renderComponent = renderComponent;\n        _this2.removeContainer = removeContainer;\n        return null;\n      });\n    }\n\n    if (visible || forceRender || this._component) {\n      portal = React.createElement(Portal, {\n        getContainer: this.getContainer\n      }, this.getComponent());\n    }\n\n    return portal;\n  };\n\n  return DialogWrap;\n}(React.Component);\n\nDialogWrap.defaultProps = {\n  visible: false,\n  forceRender: false\n};\nexport default DialogWrap;","map":{"version":3,"sources":["/Users/SHAWN/Downloads/StudyMate2/node_modules/rc-dialog/es/DialogWrap.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","React","ReactDOM","Dialog","ContainerRender","Portal","IS_REACT_16","DialogWrap","_React$Component","_this","apply","arguments","saveDialog","node","_component","getComponent","extra","length","undefined","createElement","ref","props","key","getContainer","container","document","appendChild","body","prototype","shouldComponentUpdate","_ref","visible","forceRender","componentWillUnmount","renderComponent","afterClose","removeContainer","onClose","render","_this2","_props","portal","parent","autoDestroy","_ref2","Component","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Dialog from './Dialog';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nvar IS_REACT_16 = 'createPortal' in ReactDOM;\n\nvar DialogWrap = function (_React$Component) {\n    _inherits(DialogWrap, _React$Component);\n\n    function DialogWrap() {\n        _classCallCheck(this, DialogWrap);\n\n        var _this = _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\n        _this.saveDialog = function (node) {\n            _this._component = node;\n        };\n        _this.getComponent = function () {\n            var extra = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            return React.createElement(Dialog, _extends({ ref: _this.saveDialog }, _this.props, extra, { key: \"dialog\" }));\n        };\n        // fix issue #10656\n        /*\n        * Custom container should not be return, because in the Portal component, it will remove the\n        * return container element here, if the custom container is the only child of it's component,\n        * like issue #10656, It will has a conflict with removeChild method in react-dom.\n        * So here should add a child (div element) to custom container.\n        * */\n        _this.getContainer = function () {\n            var container = document.createElement('div');\n            if (_this.props.getContainer) {\n                _this.props.getContainer().appendChild(container);\n            } else {\n                document.body.appendChild(container);\n            }\n            return container;\n        };\n        return _this;\n    }\n\n    DialogWrap.prototype.shouldComponentUpdate = function shouldComponentUpdate(_ref) {\n        var visible = _ref.visible,\n            forceRender = _ref.forceRender;\n\n        return !!(this.props.visible || visible) || this.props.forceRender || forceRender;\n    };\n\n    DialogWrap.prototype.componentWillUnmount = function componentWillUnmount() {\n        if (IS_REACT_16) {\n            return;\n        }\n        if (this.props.visible) {\n            this.renderComponent({\n                afterClose: this.removeContainer,\n                onClose: function onClose() {},\n\n                visible: false\n            });\n        } else {\n            this.removeContainer();\n        }\n    };\n\n    DialogWrap.prototype.render = function render() {\n        var _this2 = this;\n\n        var _props = this.props,\n            visible = _props.visible,\n            forceRender = _props.forceRender;\n\n        var portal = null;\n        if (!IS_REACT_16) {\n            return React.createElement(ContainerRender, { parent: this, visible: visible, autoDestroy: false, getComponent: this.getComponent, getContainer: this.getContainer, forceRender: forceRender }, function (_ref2) {\n                var renderComponent = _ref2.renderComponent,\n                    removeContainer = _ref2.removeContainer;\n\n                _this2.renderComponent = renderComponent;\n                _this2.removeContainer = removeContainer;\n                return null;\n            });\n        }\n        if (visible || forceRender || this._component) {\n            portal = React.createElement(Portal, { getContainer: this.getContainer }, this.getComponent());\n        }\n        return portal;\n    };\n\n    return DialogWrap;\n}(React.Component);\n\nDialogWrap.defaultProps = {\n    visible: false,\n    forceRender: false\n};\nexport default DialogWrap;"]},"metadata":{},"sourceType":"module"}